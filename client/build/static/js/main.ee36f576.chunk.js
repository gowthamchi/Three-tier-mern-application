/*! For license information please see main.ee36f576.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"b",function(){return c}),a.d(t,"a",function(){return r});const s={AUTH:"AUTH",ALERT:"ALERT",THEME:"THEME",STATUS:"STATUS",MODAL:"MODAL",USER_TYPE:"USER_TYPE",SOCKET:"SOCKET"},c=(e,t,a)=>e.map(e=>e._id===t?a:e),r=(e,t)=>e.filter(e=>e._id!==t)},,,function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"d",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"a",function(){return l});var s=a(47),c=a.n(s);const r=async(e,t)=>await c.a.get("/api/".concat(e),{headers:{Authorization:t}}),n=async(e,t,a)=>await c.a.post("/api/".concat(e),t,{headers:{Authorization:a}}),o=async(e,t,a)=>await c.a.patch("/api/".concat(e),t,{headers:{Authorization:a}}),l=async(e,t)=>await c.a.delete("/api/".concat(e),{headers:{Authorization:t}})},function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"b",function(){return i}),a.d(t,"e",function(){return d}),a.d(t,"k",function(){return j}),a.d(t,"f",function(){return b}),a.d(t,"i",function(){return m}),a.d(t,"d",function(){return u}),a.d(t,"c",function(){return O}),a.d(t,"g",function(){return p}),a.d(t,"h",function(){return h}),a.d(t,"j",function(){return x});var s=a(2),c=a(3),r=a(6),n=a(36),o=a(10);const l={CREATE_POST:"CREATE_POST",LOADING_POST:"LOADING_POST",GET_POSTS:"GET_POSTS",UPDATE_POST:"UPDATE_POST",GET_POST:"GET_POST",DELETE_POST:"DELETE_POST",REPORT_POST:"REPORT_POST",SAVE_POST:"SAVE_POST"},i=e=>{let{content:t,images:a,auth:i,socket:d}=e;return async e=>{let j=[];try{e({type:c.c.ALERT,payload:{loading:!0}}),a.length>0&&(j=await Object(n.b)(a));const b=await Object(r.d)("posts",{content:t,images:j},i.token);e({type:l.CREATE_POST,payload:Object(s.a)(Object(s.a)({},b.data.newPost),{},{user:i.user})}),e({type:c.c.ALERT,payload:{loading:!1}});const m={id:b.data.newPost._id,text:"Added a new post.",recipients:b.data.newPost.user.followers,url:"/post/".concat(b.data.newPost._id),content:t,image:j[0].url};e(Object(o.b)({msg:m,auth:i,socket:d}))}catch(b){e({type:c.c.ALERT,payload:{error:b.response.data.msg}})}}},d=e=>async t=>{try{t({type:l.LOADING_POST,payload:!0});const a=await Object(r.b)("posts",e);t({type:l.GET_POSTS,payload:Object(s.a)(Object(s.a)({},a.data),{},{page:2})}),t({type:l.LOADING_POST,payload:!1})}catch(a){t({type:c.c.ALERT,payload:{error:a.response.data.msg}})}},j=e=>{let{content:t,images:a,auth:s,status:o}=e;return async e=>{let i=[];const d=a.filter(e=>!e.url),j=a.filter(e=>e.url);if(o.content!==t||0!==d.length||j.length!==o.images.length)try{e({type:c.c.ALERT,payload:{loading:!0}}),d.length>0&&(i=await Object(n.b)(d));const a=await Object(r.c)("post/".concat(o._id),{content:t,images:[...j,...i]},s.token);e({type:l.UPDATE_POST,payload:a.data.newPost}),e({type:c.c.ALERT,payload:{success:a.data.msg}})}catch(b){e({type:c.c.ALERT,payload:{error:b.response.data.msg}})}}},b=e=>{let{post:t,auth:a,socket:n}=e;return async e=>{const i=Object(s.a)(Object(s.a)({},t),{},{likes:[...t.likes,a.user]});e({type:l.UPDATE_POST,payload:i}),n.emit("likePost",i);try{await Object(r.c)("post/".concat(t._id,"/like"),null,a.token);const s={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id),content:t.content,image:t.images[0].url};e(Object(o.b)({msg:s,auth:a,socket:n}))}catch(d){e({type:c.c.ALERT,payload:{error:d.response.data.msg}})}}},m=e=>{let{post:t,auth:a,socket:n}=e;return async e=>{const i=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter(e=>e._id!==a.user._id)});e({type:l.UPDATE_POST,payload:i}),n.emit("unLikePost",i);try{await Object(r.c)("post/".concat(t._id,"/unlike"),null,a.token);const s={id:a.user._id,text:"Liked your post.",recipients:[t.user._id],url:"/post/".concat(t._id)};e(Object(o.f)({msg:s,auth:a,socket:n}))}catch(d){e({type:c.c.ALERT,payload:{error:d.response.data.msg}})}}},u=e=>{let{detailPost:t,id:a,auth:s}=e;return async e=>{if(t.every(e=>e._id!==a))try{const t=await Object(r.b)("post/".concat(a),s.token);e({type:l.GET_POST,payload:t.data.post})}catch(n){e({type:c.c.ALERT,payload:{error:n.response.data.msg}})}}},O=e=>{let{post:t,auth:a,socket:s}=e;return async e=>{e({type:l.DELETE_POST,payload:t});try{const c=await Object(r.a)("post/".concat(t._id),a.token),n={id:t._id,text:"Added a new post.",recipients:c.data.newPost.user.followers,url:"/post/".concat(t._id)};e(Object(o.f)({msg:n,auth:a,socket:s}))}catch(n){e({type:c.c.ALERT,payload:{error:n.response.data.msg}})}}},p=e=>{let{post:t,auth:a}=e;return async e=>{const n=t.reports.find(e=>e===a.user._id);if(n&&n.length>0)return e({type:c.c.ALERT,payload:{error:"You have already reported this post."}});const o=Object(s.a)({},t);o.reports.push(a.user._id),e({type:l.REPORT_POST,payload:o});try{const s=await Object(r.c)("post/".concat(t._id,"/report"),null,a.token);e({type:c.c.ALERT,payload:{success:s.data.msg}})}catch(i){e({type:c.c.ALERT,payload:{error:i.response.data.msg}})}}},h=e=>{let{post:t,auth:a}=e;return async e=>{const n=Object(s.a)(Object(s.a)({},a.user),{},{saved:[...a.user.saved,t._id]});e({type:c.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:n})});try{await Object(r.c)("savePost/".concat(t._id),null,a.token)}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}},x=e=>{let{post:t,auth:a}=e;return async e=>{const n=Object(s.a)(Object(s.a)({},a.user),{},{saved:a.user.saved.filter(e=>e!==t._id)});e({type:c.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:n})});try{await Object(r.c)("unSavePost/".concat(t._id),null,a.token)}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}}},,,function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"f",function(){return l}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return d}),a.d(t,"c",function(){return j});var s=a(2),c=a(3),r=a(6);const n={GET_NOTIFIES:"GET_NOTIFIES",CREATE_NOTIFY:"CREATE_NOTIFY",REMOVE_NOTIFY:"REMOVE_NOTIFY",UPDATE_NOTIFY:"UPDATE_NOTIFY",UPDATE_SOUND:"UPDATE_SOUND",DELETE_ALL_NOTIFICATIONS:"DELETE_ALL_NOTIFICATIONS"},o=e=>{let{msg:t,auth:a,socket:n}=e;return async e=>{try{const e=await Object(r.d)("notify",t,a.token);n.emit("createNotify",Object(s.a)(Object(s.a)({},e.data.notify),{},{user:{username:a.user.username,avatar:a.user.avatar}}))}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}},l=e=>{let{msg:t,auth:a,socket:s}=e;return async e=>{try{await Object(r.a)("notify/".concat(t.id,"?url=").concat(t.url),a.token),s.emit("removeNotify",t)}catch(n){e({type:c.c.ALERT,payload:{error:n.response.data.msg}})}}},i=e=>async t=>{try{const a=await Object(r.b)("notifies",e);t({type:n.GET_NOTIFIES,payload:a.data.notifies})}catch(a){t({type:c.c.ALERT,payload:{error:a.response.data.msg}})}},d=e=>{let{msg:t,auth:a}=e;return async e=>{e({type:n.UPDATE_NOTIFY,payload:Object(s.a)(Object(s.a)({},t),{},{isRead:!0})});try{await Object(r.c)("isReadNotify/".concat(t._id),null,a.token)}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}},j=e=>async t=>{t({type:n.DELETE_ALL_NOTIFICATIONS,payload:[]});try{await Object(r.a)("deleteAllNotify",e)}catch(a){t({type:c.c.ALERT,payload:{error:a.response.data.msg}})}}},,,function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"i",function(){return o}),a.d(t,"g",function(){return l}),a.d(t,"e",function(){return i}),a.d(t,"f",function(){return d}),a.d(t,"h",function(){return j}),a.d(t,"c",function(){return b}),a.d(t,"b",function(){return m}),a.d(t,"d",function(){return u});var s=a(3),c=a(6),r=a(10);const n={GET_TOTAL_USERS:"GET_TOTAL_USERS",GET_TOTAL_POSTS:"GET_TOTAL_POSTS",GET_TOTAL_COMMENTS:"GET_TOTAL_COMMENTS",GET_TOTAL_LIKES:"GET_TOTAL_LIKES",GET_TOTAL_SPAM_POSTS:"GET_TOTAL_SPAM_POSTS",GET_TOTAL_ACTIVE_USERS:"GET_TOTAL_ACTIVE_USERS",GET_SPAM_POSTS:"GET_SPAM_POSTS",LOADING_ADMIN:"LOADING_ADMIN",DELETE_POST:"DELETE_POST"},o=e=>async t=>{try{t({type:n.LOADING_ADMIN,payload:!0});const a=await Object(c.b)("get_total_users",e);t({type:n.GET_TOTAL_USERS,payload:a.data}),t({type:n.LOADING_ADMIN,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}},l=e=>async t=>{try{t({type:n.LOADING_ADMIN,payload:!0});const a=await Object(c.b)("get_total_posts",e);t({type:n.GET_TOTAL_POSTS,payload:a.data}),t({type:n.LOADING_ADMIN,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}},i=e=>async t=>{try{t({type:n.LOADING_ADMIN,payload:!0});const a=await Object(c.b)("get_total_comments",e);t({type:n.GET_TOTAL_COMMENTS,payload:a.data}),t({type:n.LOADING_ADMIN,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}},d=e=>async t=>{try{t({type:n.LOADING_ADMIN,payload:!0});const a=await Object(c.b)("get_total_likes",e);t({type:n.GET_TOTAL_LIKES,payload:a.data}),t({type:n.LOADING_ADMIN,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}},j=e=>async t=>{try{t({type:n.LOADING_ADMIN,payload:!0});const a=await Object(c.b)("get_total_spam_posts",e);t({type:n.GET_TOTAL_SPAM_POSTS,payload:a.data}),t({type:n.LOADING_ADMIN,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}},b=e=>async t=>{try{t({type:n.LOADING_ADMIN,payload:!0});const a=await Object(c.b)("get_spam_posts",e);t({type:n.GET_SPAM_POSTS,payload:a.data.spamPosts}),t({type:n.LOADING_ADMIN,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}},m=e=>{let{post:t,auth:a,socket:o}=e;return async e=>{e({type:n.DELETE_POST,payload:t});try{const n=await Object(c.a)("delete_spam_posts/".concat(t._id),a.token);e({type:s.c.ALERT,payload:{success:n.data.msg}});const l={id:a.user._id,text:"Your Post is deleted due to too many reports.",recipients:[t.user._id],url:"/profile/".concat(t.user._id)};e(Object(r.b)({msg:l,auth:a,socket:o}))}catch(l){e({type:s.c.ALERT,payload:{error:l.response.data.msg}})}}},u=e=>{let{auth:t,socket:a}=e;return async e=>{try{a.emit("getActiveUsers",t.user._id)}catch(c){e({type:s.c.ALERT,payload:{error:c.response.data.msg}})}}}},,,function(e,t,a){"use strict";t.a=a.p+"static/media/loading.10625dac.gif"},,,,function(e,t,a){"use strict";a(1);var s=a(5),c=a(0);t.a=e=>{let{src:t,size:a}=e;const{theme:r}=Object(s.c)(e=>e);return Object(c.jsx)("img",{src:t,alt:"Avatar",className:a,style:{filter:"".concat(r?"invert(1)":"invert(0)")}})}},,function(e,t,a){"use strict";a.d(t,"a",function(){return l}),a.d(t,"c",function(){return i}),a.d(t,"e",function(){return d}),a.d(t,"b",function(){return j}),a.d(t,"d",function(){return b});var s=a(2),c=a(3),r=a(6),n=a(36),o=a(10);const l={LOADING:"LOADING_PROFILE",GET_USER:"GET_PROFILE_USER",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",GET_ID:"GET_PROFILE_ID",GET_POSTS:"GET_PROFILE_POSTS",UPDATE_POST:"UPDATE_PROFILE_POSTS"},i=e=>{let{id:t,auth:a}=e;return async e=>{e({type:l.GET_ID,payload:t});try{e({type:l.LOADING,payload:!0});const c=Object(r.b)("/user/".concat(t),a.token),n=Object(r.b)("/user_posts/".concat(t),a.token),o=await c,i=await n;e({type:l.GET_USER,payload:o.data}),e({type:l.GET_POSTS,payload:Object(s.a)(Object(s.a)({},i.data),{},{_id:t,page:2})}),e({type:l.LOADING,payload:!1})}catch(n){e({type:c.c.ALERT,payload:{error:n.response.data.msg}})}}},d=e=>{let{userData:t,avatar:a,auth:o}=e;return async e=>{if(!t.fullname)return e({type:c.c.ALERT,payload:{error:"Please enter full name."}});if(t.fullname.length>25)return e({type:c.c.ALERT,payload:{error:"Full name is too long."}});if(t.story.length>200)return e({type:c.c.ALERT,payload:{error:"Story is too long."}});try{let l;e({type:c.c.ALERT,payload:{loading:!0}}),a&&(l=await Object(n.b)([a]));const i=await Object(r.c)("user",Object(s.a)(Object(s.a)({},t),{},{avatar:a?l[0].url:o.user.avatar}),o.token);e({type:c.c.AUTH,payload:Object(s.a)(Object(s.a)({},o),{},{user:Object(s.a)(Object(s.a)(Object(s.a)({},o.user),t),{},{avatar:a?l[0].url:o.user.avatar})})}),e({type:c.c.ALERT,payload:{success:i.data.msg}})}catch(l){e({type:c.c.ALERT,payload:{error:l.response.data.msg}})}}},j=e=>{let{users:t,user:a,auth:n,socket:i}=e;return async e=>{let d;t.every(e=>e._id!==a._id)?d=Object(s.a)(Object(s.a)({},a),{},{followers:[...a.followers,n.user]}):t.forEach(e=>{e._id===a._id&&(d=Object(s.a)(Object(s.a)({},e),{},{followers:[...e.followers,n.user]}))}),e({type:l.FOLLOW,payload:d}),e({type:c.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)({},n.user),{},{following:[...n.user.following,d]})})});try{const t=await Object(r.c)("/user/".concat(a._id,"/follow"),null,n.token);i.emit("follow",t.data.newUser);const s={id:n.user._id,text:"started following you",recipients:[d._id],url:"/profile/".concat(n.user._id)};e(Object(o.b)({msg:s,auth:n,socket:i}))}catch(j){e({type:c.c.ALERT,payload:{error:j.response.data.msg}})}}},b=e=>{let{users:t,user:a,auth:n,socket:i}=e;return async e=>{let d;t.every(e=>e._id!==a._id)?d=Object(s.a)(Object(s.a)({},a),{},{followers:Object(c.a)(a.followers,n.user._id)}):t.forEach(e=>{e._id===a._id&&(d=Object(s.a)(Object(s.a)({},e),{},{followers:Object(c.a)(e.followers,n.user._id)}))}),e({type:l.UNFOLLOW,payload:d}),e({type:c.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:Object(s.a)(Object(s.a)({},n.user),{},{following:Object(c.a)(n.user.following,d._id)})})});try{const t=await Object(r.c)("/user/".concat(a._id,"/unfollow"),null,n.token);i.emit("unFollow",t.data.newUser);const s={id:n.user._id,text:"started following you",recipients:[d._id],url:"/profile/".concat(n.user._id)};e(Object(o.f)({msg:s,auth:n,socket:i}))}catch(j){e({type:c.c.ALERT,payload:{error:j.response.data.msg}})}}}},,,,function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return o}),a.d(t,"b",function(){return l}),a.d(t,"d",function(){return i}),a.d(t,"e",function(){return d});var s=a(2),c=a(3),r=a(6);const n={ADD_USER:"ADD_USER",ADD_MESSAGE:"ADD_MESSAGE",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_MESSAGES:"GET_MESSAGES"},o=e=>{let{user:t,message:a}=e;return async e=>{a.users.every(e=>e._id!==t._id)&&e({type:n.ADD_USER,payload:Object(s.a)(Object(s.a)({},t),{},{text:"",media:[]})})}},l=e=>{let{msg:t,auth:a,socket:s}=e;return async e=>{e({type:n.ADD_MESSAGE,payload:t}),s.emit("addMessage",t);try{await Object(r.d)("message",t,a.token)}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}},i=e=>{let{auth:t,page:a=1}=e;return async e=>{try{const c=await Object(r.b)("conversations?limit=".concat(9*a),t.token);let o=[];c.data.conversations.forEach(e=>{e.recipients.forEach(a=>{a._id!==t.user._id&&o.push(Object(s.a)(Object(s.a)({},a),{},{text:e.text,media:e.media}))})}),e({type:n.GET_CONVERSATIONS,payload:{newArr:o,result:c.data.result}})}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}},d=e=>{let{auth:t,id:a,page:s=1}=e;return async e=>{try{const c=await Object(r.b)("message/".concat(a,"?limit=").concat(9*s),t.token);e({type:n.GET_MESSAGES,payload:c.data})}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}}},function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"b",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"e",function(){return i}),a.d(t,"f",function(){return d}),a.d(t,"g",function(){return j}),a.d(t,"d",function(){return b});var s=a(6),c=a(3);var r=e=>{let{fullname:t,username:a,email:s,password:c,cf_password:r}=e;const n={};return t?t.length>25&&(n.fullname="Full name must be smaller than 25 characters."):n.fullname="Please add full name.",a?a.replace(/ /g,"").length>25&&(n.username="User name must be smaller than 25 characters."):n.username="Please add User name.",s||(n.email="Please add Email."),c?c.length<6&&(n.password="Password must be al least 6 characters long."):n.password="Please add Password.",c!==r&&(n.cf_password="Password does not match."),{errMsg:n,errLength:Object.keys(n).length}};const n=e=>async t=>{try{t({type:c.c.ALERT,payload:{loading:!0}});const a=await Object(s.d)("login",e);t({type:c.c.AUTH,payload:{token:a.data.access_token,user:a.data.user}}),t({type:c.c.USER_TYPE,payload:a.data.user.role}),localStorage.setItem("firstLogin",!0),t({type:c.c.ALERT,payload:{success:a.data.msg}})}catch(a){t({type:c.c.ALERT,payload:{error:a.response.data.msg}})}},o=e=>{let{oldPassword:t,newPassword:a,cnfNewPassword:r,auth:n}=e;return async e=>{t&&0!==t.length||e({type:c.c.ALERT,payload:{error:"Please enter your old  password."}}),a&&0!==a.length||e({type:c.c.ALERT,payload:{error:"Please enter your new  password."}}),r&&0!==r.length||e({type:c.c.ALERT,payload:{error:"Please confirm your new  password."}}),a!==r&&e({type:c.c.ALERT,payload:{error:"Your password does not match"}});try{e({type:c.c.ALERT,payload:{loading:!0}});const r=await Object(s.d)("changePassword",{oldPassword:t,newPassword:a},n.token);e({type:c.c.ALERT,payload:{loading:!1}}),e({type:c.c.ALERT,payload:{success:r.data.msg}})}catch(o){e({type:c.c.ALERT,payload:{error:o.response.data.msg}})}}},l=e=>async t=>{try{t({type:c.c.ALERT,payload:{loading:!0}});const a=await Object(s.d)("admin_login",e);t({type:c.c.AUTH,payload:{token:a.data.access_token,user:a.data.user}}),t({type:c.c.USER_TYPE,payload:a.data.user.role}),localStorage.setItem("firstLogin",!0),t({type:c.c.ALERT,payload:{success:a.data.msg}})}catch(a){t({type:c.c.ALERT,payload:{error:a.response.data.msg}})}},i=()=>async e=>{if(localStorage.getItem("firstLogin")){e({type:c.c.ALERT,payload:{loading:!0}});try{const t=await Object(s.d)("refresh_token");e({type:c.c.AUTH,payload:{token:t.data.access_token,user:t.data.user}}),e({type:c.c.USER_TYPE,payload:t.data.user.role}),e({type:c.c.ALERT,payload:{}})}catch(t){e({type:c.c.ALERT,payload:{error:t.response.data.msg}})}}},d=e=>async t=>{const a=r(e);if(a.errLength>0)return t({type:c.c.ALERT,payload:a.errMsg});try{t({type:c.c.ALERT,payload:{loading:!0}});const a=await Object(s.d)("register",e);t({type:c.c.AUTH,payload:{token:a.data.access_token,user:a.data.user}}),t({type:c.c.USER_TYPE,payload:a.data.user.role}),localStorage.setItem("firstLogin",!0),t({type:c.c.ALERT,payload:{success:a.data.msg}})}catch(n){t({type:c.c.ALERT,payload:{error:n.response.data.msg}})}},j=e=>async t=>{const a=r(e);if(a.errLength>0)return t({type:c.c.ALERT,payload:a.errMsg});try{t({type:c.c.ALERT,payload:{loading:!0}});const a=await Object(s.d)("register_admin",e);t({type:c.c.ALERT,payload:{success:a.data.msg}})}catch(n){t({type:c.c.ALERT,payload:{error:n.response.data.msg}})}},b=()=>async e=>{try{localStorage.removeItem("firstLogin"),await Object(s.d)("logout"),window.location.href="/"}catch(t){e({type:c.c.ALERT,payload:{error:t.response.data.msg}})}}},,function(e,t,a){"use strict";a(1);var s=a(20),c=a(8),r=a(0);t.a=e=>{let{children:t,user:a,border:n,handleClose:o,setShowFollowers:l,setShowFollowing:i,msg:d}=e;return Object(r.jsxs)("div",{className:"d-flex justify-content-between p-2 w-100 align-items-center ".concat(n),children:[Object(r.jsx)("div",{children:Object(r.jsxs)(c.b,{to:"/profile/".concat(a._id),onClick:()=>{o&&o(),l&&l(!1),i&&i(!1)},className:"d-flex align-items-center",style:{textDecoration:"none"},children:[Object(r.jsx)("div",{className:"outer-shadow big-avatar-cover ",children:Object(r.jsx)(s.a,{src:a.avatar,size:"big-avatar"})}),Object(r.jsxs)("div",{className:"ms-2",style:{transform:"translateY(-2px)"},children:[Object(r.jsx)("span",{className:"d-block color-c2",children:a.username}),Object(r.jsx)("small",{className:"d-flex text-muted",style:{flexWrap:"wrap"},children:d?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:a.text}),a.media.length>0&&Object(r.jsxs)("div",{children:[a.media.length," ",Object(r.jsx)("i",{className:"fas fa-image"})]})]}):a.fullname})]})]})}),t]})}},,,,function(e,t,a){"use strict";a.d(t,"a",function(){return c}),a.d(t,"b",function(){return r});var s=a(0);const c=(e,t)=>Object(s.jsx)("img",{src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}}),r=(e,t)=>Object(s.jsx)("video",{controls:!0,src:e,className:"img-thumbnail",alt:"uploaded pics",style:{filter:t?"invert(1)":"invert(0)"}})},,,function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return c});const s=e=>{let t="";return e?e.size>1048576?"File size must be less than 1 Mb.":"image/jpeg"!==e.type&&"image/png"!==e.type?"Image must be jpeg or png.":t:"File does not exist."},c=async e=>{let t=[];for(const a of e){const e=new FormData;a.camera?e.append("file",a.camera):e.append("file",a),e.append("upload_preset","ADD VALUE HERE"),e.append("cloud_name","ADD VALUE HERE");const s=await fetch("ADD CLOUDINARY IMAGE UPLOAD LINK HERE",{method:"POST",body:e}),c=await s.json();t.push({public_id:c.public_id,url:c.secure_url})}return t}},function(e,t,a){"use strict";var s=a(1),c=a(5),r=a(22),n=a(0);t.a=e=>{let{user:t}=e;const[a,o]=Object(s.useState)(!1),{auth:l,profile:i,socket:d}=Object(c.c)(e=>e),j=Object(c.b)(),[b,m]=Object(s.useState)(!1);Object(s.useEffect)(()=>(l.user.following.find(e=>e._id===t._id)&&o(!0),()=>o(!1)),[l.user.following,t._id]);return Object(n.jsx)(n.Fragment,{children:a?Object(n.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:async()=>{b||(o(!1),m(!0),await j(Object(r.d)({users:i.users,user:t,auth:l,socket:d})),m(!1))},children:"Unfollow"}):Object(n.jsx)("button",{className:"btn-1 hover-in-shadow outer-shadow",onClick:async()=>{b||(o(!0),m(!0),await j(Object(r.b)({users:i.users,user:t,auth:l,socket:d})),m(!1))},children:"Follow"})})}},function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n});var s=a(3),c=a(6);const r={LOADING:"LOADING_SUGGESTIONS",GET_USERS:"GET_USERS_SUGGESTIONS"},n=e=>async t=>{try{t({type:r.LOADING,payload:!0});const a=await Object(c.b)("suggestionsUser",e);t({type:r.GET_USERS,payload:a.data}),t({type:r.LOADING,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}}},,function(e,t,a){"use strict";a(1);var s=a(0);t.a=e=>{let{result:t,page:a,load:c,handleLoadMore:r}=e;return Object(s.jsx)(s.Fragment,{children:t<9*(a-1)?"":!c&&Object(s.jsx)("button",{className:"btn  btn-outline-info color-c1 mx-auto d-block",onClick:r,children:"Load more."})})}},,function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n});var s=a(3),c=a(6);const r={LOADING:"LOADING_DISCOVER",GET_POSTS:"GET_DISCOVER_POSTS",UPDATE_POSTS:"UPDATE_DISCOVER_POSTS"},n=e=>async t=>{try{t({type:r.LOADING,payload:!0});const a=await Object(c.b)("post_discover",e);t({type:r.GET_POSTS,payload:a.data}),t({type:r.LOADING,payload:!1})}catch(a){t({type:s.c.ALERT,payload:{error:a.response.data.msg}})}}},function(e,t,a){"use strict";a(1);var s=a(8),c=a(5),r=(a(33),a(0));t.a=e=>{let{posts:t,result:a}=e;const{theme:n}=Object(c.c)(e=>e);if(0===a)return Object(r.jsx)("h2",{className:"text-center color-c1",children:"No Post"});const o=e=>Object(r.jsx)("img",{src:e,alt:e,style:{filter:n?"invert(1)":"invert(0)"}});return Object(r.jsx)("div",{className:"post_thumb",children:t&&t.map(e=>{return Object(r.jsx)(s.b,{to:"/post/".concat(e._id),children:Object(r.jsxs)("div",{className:"post_thumb_display",children:[e.images[0].url.match(/video/i)?(t=e.images[0].url,Object(r.jsx)("video",{controls:!0,src:t,alt:t,style:{filter:n?"invert(1)":"invert(0)"}})):o(e.images[0].url),Object(r.jsxs)("div",{className:"post_thumb_menu",children:[Object(r.jsx)("i",{className:"far fa-thumbs-up",children:e.likes.length}),Object(r.jsx)("i",{className:"far fa-comments",children:e.comments.length})]})]})},e._id);var t})})}},function(e,t,a){"use strict";a(1),a(120);var s=a(81),c=a(0);t.a=e=>{let{setContent:t,content:a,theme:r}=e;return Object(c.jsxs)("div",{className:"nav-item dropdown",style:{opacity:"1",zIndex:"10",filter:r?"invert(1)":"invert(0)"},children:[Object(c.jsx)("span",{className:"nav-link position-relative px-1",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(c.jsx)("span",{children:"\ud83d\ude0f"})}),Object(c.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(c.jsx)(s.a,{theme:r?"dark":"light",showSkinTones:"true",showPreview:"false",onSelect:e=>t(a+e.native),i18n:{search:"Search",clear:"Clear",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",smileys:"Smileys & Emotion",people:"People & Body",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"},categorieslabel:"Emoji categories",skintones:{1:"Default Skin Tone",2:"Light Skin Tone",3:"Medium-Light Skin Tone",4:"Medium Skin Tone",5:"Medium-Dark Skin Tone",6:"Dark Skin Tone"}}})})]})}},,,,,function(e,t,a){"use strict";a.r(t);var s=a(2),c=a(1),r=a(12),n=a(8),o=a(27),l=a(5),i=a(0);t.default=()=>{const[e,t]=Object(c.useState)({email:"",password:""}),[a,d]=Object(c.useState)(!1),{email:j,password:b}=e,[m,u]=Object(c.useState)(!1),{auth:O}=Object(l.c)(e=>e),p=Object(l.b)(),h=Object(r.f)();Object(c.useEffect)(()=>{O.token&&h.push("/")},[O.token,h]);const x=a=>{const{name:c,value:r}=a.target;t(Object(s.a)(Object(s.a)({},e),{},{[c]:r}))};return Object(i.jsx)("div",{className:"auth_page",children:Object(i.jsxs)("form",{onSubmit:t=>{t.preventDefault(),p(a?Object(o.a)(e):Object(o.c)(e))},className:"inner-shadow",children:[Object(i.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading ",children:"Campus Connect"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(i.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(i.jsx)("input",{type:"email",className:"form-control ",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:x,value:j,name:"email"})}),Object(i.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(i.jsx)("div",{className:"pass",children:Object(i.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(i.jsx)("input",{type:m?"text":"password",className:"form-control",id:"exampleInputPassword1",onChange:x,value:b,name:"password"}),Object(i.jsx)("small",{onClick:()=>u(!m),children:m?"Hide":"Show"})]})})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-4",children:[Object(i.jsxs)("label",{htmlFor:"User",children:["User:",Object(i.jsx)("input",{type:"radio",id:"User",name:"gender",value:a,defaultChecked:!0,onClick:()=>d(!1)})]}),Object(i.jsxs)("label",{htmlFor:"Admin",children:["Admin:",Object(i.jsx)("input",{type:"radio",id:"Admin",name:"gender",value:a,onClick:()=>d(!0)})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",disabled:!j||!b,children:"Login"}),Object(i.jsxs)("p",{className:"my-2",children:["Don't have an account?"," ",Object(i.jsx)(n.b,{to:"/register",style:{color:"crimson"},children:"Register Now."})]})]})})}},,function(e,t,a){"use strict";a.r(t);a(1);var s=a(56),c=a(0);t.default=()=>Object(c.jsxs)("div",{className:"message d-flex",children:[Object(c.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(c.jsx)(s.a,{})}),Object(c.jsx)("div",{className:"col-md-8 px-0",children:Object(c.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column h-100",children:[Object(c.jsx)("i",{className:"fa fa-bolt color-c1",style:{fontSize:"5rem"}}),Object(c.jsx)("h4",{children:"Messenger"})]})})]})},,function(e,t,a){"use strict";a.r(t);var s=a(2),c=a(1),r=a(5),n=a(12),o=a(8),l=a(27),i=a(0);t.default=()=>{const{auth:e,alert:t}=Object(r.c)(e=>e),a=Object(r.b)(),d=Object(n.f)(),[j,b]=Object(c.useState)({fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"}),{fullname:m,username:u,email:O,password:p,cf_password:h}=j,[x,y]=Object(c.useState)(!1),[f,g]=Object(c.useState)(!1);Object(c.useEffect)(()=>{e.token&&d.push("/")},[e.token,d]);const v=e=>{const{name:t,value:a}=e.target;b(Object(s.a)(Object(s.a)({},j),{},{[t]:a}))};return Object(i.jsx)("div",{className:"auth_page",children:Object(i.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(Object(l.f)(j))},className:"inner-shadow",children:[Object(i.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"Campus Connect"}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(i.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(i.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:v,value:m,name:"fullname",style:{background:"".concat(t.fullname?"#fd2d6a14":""," ")}})}),Object(i.jsx)("small",{className:"form-text text-danger",children:t.fullname?t.fullname:""})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(i.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(i.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:v,value:u.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(t.username?"#fd2d6a14":""," ")}})}),Object(i.jsx)("small",{className:"form-text text-danger",children:t.username?t.username:""})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(i.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(i.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:v,value:O,name:"email",style:{background:"".concat(t.email?"#fd2d6a14":""," ")}})}),Object(i.jsx)("small",{className:"form-text text-danger",children:t.email?t.email:""})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(i.jsx)("div",{className:"pass",children:Object(i.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(i.jsx)("input",{type:x?"text":"password",className:"form-control",id:"password",onChange:v,value:p,name:"password",style:{background:"".concat(t.password?"#fd2d6a14":""," ")}}),Object(i.jsx)("small",{onClick:()=>y(!x),children:x?"Hide":"Show"})]})}),Object(i.jsx)("small",{className:"form-text text-danger",children:t.password?t.password:""})]}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(i.jsx)("div",{className:"pass",children:Object(i.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(i.jsx)("input",{type:f?"text":"password",className:"form-control",id:"cf_password",onChange:v,value:h,name:"cf_password",style:{background:"".concat(t.cf_password?"#fd2d6a14":""," ")}}),Object(i.jsx)("small",{onClick:()=>g(!f),children:f?"Hide":"Show"})]})}),Object(i.jsx)("small",{className:"form-text text-danger",children:t.cf_password?t.cf_password:""})]}),Object(i.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(i.jsxs)("label",{htmlFor:"male",children:["Male:",Object(i.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:v})]}),Object(i.jsxs)("label",{htmlFor:"female",children:["Female:",Object(i.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:v})]})]}),Object(i.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"}),Object(i.jsxs)("p",{className:"my-2",children:["Already have an account?"," ",Object(i.jsx)(o.b,{to:"/",style:{color:"crimson"},children:"Login Now."})]})]})})}},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(8),r=a(5),n=a(27),o=(a(111),a(60),a(13)),l=a(0);var i=()=>{const{auth:e,admin:t,socket:a}=Object(r.c)(e=>e),c=Object(r.b)();return Object(s.useEffect)(()=>{c(Object(o.i)(e.token)),c(Object(o.g)(e.token)),c(Object(o.e)(e.token)),c(Object(o.f)(e.token)),c(Object(o.h)(e.token)),c(Object(o.d)({auth:e,socket:a}))},[c,e.token,a,e]),Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})}),Object(l.jsxs)("div",{className:"main__cards",children:[Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-users fa-2x text-lightblue","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Users"}),Object(l.jsx)("span",{className:"font-bold text-title",children:t.total_users})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-comments fa-2x text-red","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Comments"}),Object(l.jsx)("span",{className:"font-bold text-title",children:t.total_comments})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-camera fa-2x text-yellow","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Posts"}),Object(l.jsx)("span",{className:"font-bold text-title",children:t.total_posts})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-ban fa-2x text-red","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Reported Posts"}),Object(l.jsx)("span",{className:"font-bold text-title",children:t.total_spam_posts})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-thumbs-up fa-2x text-green","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Likes"}),Object(l.jsx)("span",{className:"font-bold text-title",children:t.total_likes})]})]}),Object(l.jsxs)("div",{className:"card_admin",children:[Object(l.jsx)("i",{className:"fa fa-check-circle fa-2x  text-green","aria-hidden":"true"}),Object(l.jsxs)("div",{className:"card_inner_admin",children:[Object(l.jsx)("p",{className:"text-primary-p",children:"Total Active Users"}),Object(l.jsx)("span",{className:"font-bold text-title",children:t.total_active_users})]})]})]})]})})},d=a(2),j=a(12);var b=()=>{const{auth:e,alert:t}=Object(r.c)(e=>e),a=Object(r.b)(),c=Object(j.f)(),o={fullname:"",username:"",email:"",password:"",cf_password:"",gender:"male"},[i,b]=Object(s.useState)(o),{fullname:m,username:u,email:O,password:p,cf_password:h}=i,[x,y]=Object(s.useState)(!1),[f,g]=Object(s.useState)(!1);Object(s.useEffect)(()=>{e.token&&c.push("/")},[e.token,c]);const v=e=>{const{name:t,value:a}=e.target;b(Object(d.a)(Object(d.a)({},i),{},{[t]:a}))};return Object(l.jsx)("div",{className:"auth_page",children:Object(l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.role="admin",a(Object(n.g)(i)),b(o)},className:"inner-shadow",children:[Object(l.jsx)("h3",{className:"text-uppercase text-center mb-4 auth-heading",children:"Campus Connect"}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"fullname",className:"form-label",children:"Full name"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"fullname",onChange:v,value:m,name:"fullname",style:{background:"".concat(t.fullname?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:t.fullname?t.fullname:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"username",className:"form-label",children:"User name"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"text",className:"form-control",id:"username",onChange:v,value:u.toLowerCase().replace(/ /g,""),name:"username",style:{background:"".concat(t.username?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:t.username?t.username:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email address"}),Object(l.jsx)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:Object(l.jsx)("input",{type:"email",className:"form-control",id:"email","aria-describedby":"emailHelp",onChange:v,value:O,name:"email",style:{background:"".concat(t.email?"#fd2d6a14":""," ")}})}),Object(l.jsx)("small",{className:"form-text text-danger",children:t.email?t.email:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(l.jsx)("div",{className:"pass",children:Object(l.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(l.jsx)("input",{type:x?"text":"password",className:"form-control",id:"password",onChange:v,value:p,name:"password",style:{background:"".concat(t.password?"#fd2d6a14":""," ")}}),Object(l.jsx)("small",{onClick:()=>y(!x),children:x?"Hide":"Show"})]})}),Object(l.jsx)("small",{className:"form-text text-danger",children:t.password?t.password:""})]}),Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{htmlFor:"cf_password",className:"form-label",children:"Confirm Password"}),Object(l.jsx)("div",{className:"pass",children:Object(l.jsxs)("div",{className:"outer-shadow hover-in-shadow form-input-wrap",children:[Object(l.jsx)("input",{type:f?"text":"password",className:"form-control",id:"cf_password",onChange:v,value:h,name:"cf_password",style:{background:"".concat(t.cf_password?"#fd2d6a14":""," ")}}),Object(l.jsx)("small",{onClick:()=>g(!f),children:f?"Hide":"Show"})]})}),Object(l.jsx)("small",{className:"form-text text-danger",children:t.cf_password?t.cf_password:""})]}),Object(l.jsxs)("div",{className:"d-flex justify-content-evenly  mx-0 mb-1",children:[Object(l.jsxs)("label",{htmlFor:"male",children:["Male:",Object(l.jsx)("input",{type:"radio",id:"male",name:"gender",value:"male",defaultChecked:!0,onChange:v})]}),Object(l.jsxs)("label",{htmlFor:"female",children:["Female:",Object(l.jsx)("input",{type:"radio",id:"female",name:"gender",value:"female",onChange:v})]})]}),Object(l.jsx)("button",{type:"submit",className:"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center",children:"Register"})]})})};var m=()=>{const{auth:e}=Object(r.c)(e=>e);return Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Management"})]})}),Object(l.jsx)(b,{})]})})},u=(a(118),a(20)),O=a(39),p=a.n(O);var h=e=>{let{content:t}=e;const{auth:a,socket:s}=Object(r.c)(e=>e),c=Object(r.b)();return Object(l.jsx)("div",{children:t.length>0?t.map(e=>Object(l.jsxs)("div",{className:"admin_content_display",children:[Object(l.jsxs)("span",{className:"spam_report",children:["Reports: ",e.reports.length]}),Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)(u.a,{size:"big-avatar",src:e.user.avatar}),Object(l.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(l.jsx)("span",{className:"spam_username",children:e.user.username}),Object(l.jsx)("span",{className:"spam_email",children:e.user.email})]}),Object(l.jsxs)("span",{className:"spam_time text-muted",children:["~",p()(e.createdAt).fromNow()]})]}),Object(l.jsxs)("div",{className:"ms-auto d-flex flex-column ",style:{cursor:"pointer"},onClick:()=>(e=>{c(Object(o.b)({post:e,auth:a,socket:s}))})(e),children:[Object(l.jsx)("span",{className:"material-icons",children:"delete"}),"Remove"]})]})):Object(l.jsx)("h1",{children:"Nothing to display"})})};var x=()=>{const{auth:e,admin:t}=Object(r.c)(e=>e),a=Object(r.b)();return Object(s.useEffect)(()=>{a(Object(o.c)(e.token))},[a,e.token]),Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsxs)("div",{className:"main__container",children:[Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Spam Dashboard"})]})}),Object(l.jsx)("div",{className:"spam",children:Object(l.jsx)(h,{content:t.spam_posts})})]})})};var y=()=>{const{auth:e}=Object(r.c)(e=>e);return Object(l.jsx)("div",{className:"main_admin",children:Object(l.jsx)("div",{className:"main__container",children:Object(l.jsx)("div",{className:"main__title",children:Object(l.jsxs)("div",{className:"main__greeting",children:[Object(l.jsxs)("h1",{children:["Hello ",e.user.username]}),Object(l.jsx)("p",{children:"Welcome to your Admin Dashboard"})]})})})})};var f=()=>{const e=Object(r.b)(),[t,a]=Object(s.useState)(1);return Object(l.jsxs)(l.Fragment,{children:[1===t&&Object(l.jsx)(i,{}),2===t&&Object(l.jsx)(m,{}),3===t&&Object(l.jsx)(x,{}),4===t&&Object(l.jsx)(y,{}),Object(l.jsxs)("div",{className:"sidebar_responsive",id:"sidebar",children:[Object(l.jsxs)("div",{className:"sidebar__title",children:[Object(l.jsx)("div",{className:"sidebar__img",children:Object(l.jsx)("h1",{children:"Campus Connect"})}),Object(l.jsx)("i",{className:"fa fa-times",id:"sidebarIcon","aria-hidden":"true"})]}),Object(l.jsxs)("div",{className:"sidebar__menu",children:[Object(l.jsxs)("div",{className:"sidebar__link ".concat(1===t&&"active_menu_link"),onClick:()=>a(1),children:[Object(l.jsx)("i",{className:"fa fa-th"}),Object(l.jsx)("a",{href:"#",children:"Dashboard"})]}),Object(l.jsx)("h2",{children:"ADMIN CONTROL"}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(2===t&&"active_menu_link"),onClick:()=>a(2),children:[Object(l.jsx)("i",{className:"fa fa-lock","aria-hidden":"true"}),Object(l.jsx)("a",{href:"#",children:"Admin Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(3===t&&"active_menu_link"),onClick:()=>a(3),children:[Object(l.jsx)("i",{className:"fa fa-ban"}),Object(l.jsx)("a",{href:"#",children:"Spams Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link ".concat(4===t&&"active_menu_link"),onClick:()=>a(4),children:[Object(l.jsx)("i",{className:"fa fa-wrench"}),Object(l.jsx)("a",{href:"#",children:"Users Management"})]}),Object(l.jsxs)("div",{className:"sidebar__link",children:[Object(l.jsx)("i",{className:"fa fa-archive"}),Object(l.jsx)("a",{href:"#",children:"xyz"})]}),Object(l.jsxs)("div",{className:"sidebar__link",children:[Object(l.jsx)("i",{className:"fa fa-handshake-o"}),Object(l.jsx)("a",{href:"#",children:"xyz"})]}),Object(l.jsxs)("div",{className:"sidebar__logout",children:[Object(l.jsx)("i",{className:"fa fa-power-off"}),Object(l.jsx)(c.b,{to:"/",onClick:()=>e(Object(n.d)()),children:"Log out"})]})]})]})]})};t.default=()=>Object(l.jsx)("div",{className:"container1",children:Object(l.jsx)(f,{})})},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(5),r=a(2),n=a(57),o=a(16),l=a(40),i=a(6),d=a(7),j=a(0);var b=()=>{const{homePosts:e,auth:t,theme:a}=Object(c.c)(e=>e),b=Object(c.b)(),[m,u]=Object(s.useState)(!1);return Object(j.jsxs)("div",{className:"posts",children:[e.posts.map(e=>Object(j.jsx)(n.a,{post:e,theme:a},e._id)),m&&Object(j.jsx)("img",{src:o.a,alt:"Loading...",className:"d-block mx-auto"}),Object(j.jsx)(l.a,{result:e.result,page:e.page,load:m,handleLoadMore:async()=>{u(!0);const a=await Object(i.b)("posts?limit=".concat(9*e.page),t.token);b({type:d.a.GET_POSTS,payload:Object(r.a)(Object(r.a)({},a.data),{},{page:e.page+1})}),u(!1)}})]})},m=a(20),u=a(3);var O=()=>{const{auth:e}=Object(c.c)(e=>e),t=Object(c.b)();return Object(j.jsxs)("div",{className:"status my-3 d-flex",children:[Object(j.jsx)("div",{className:"outer-shadow big-avatar-cover",children:Object(j.jsx)(m.a,{src:e.user.avatar,size:"big-avatar",className:""})}),Object(j.jsx)("button",{onClick:()=>t({type:u.c.STATUS,payload:!0}),className:"btn-1 outer-shadow hover-in-shadow statusBtn flex-fill ",style:{marginLeft:"7px"},children:Object(j.jsxs)("span",{style:{textShadow:"var(--outer-shadow)"},children:[e.user.username,", What's on your mind?"]})})]})},p=a(29),h=a(37),x=a(38);var y=()=>{const{auth:e,suggestions:t}=Object(c.c)(e=>e),a=Object(c.b)();return Object(j.jsxs)("div",{className:"my-4",children:[Object(j.jsx)("div",{className:"inner-shadow",style:{borderRadius:"5px"},children:Object(j.jsx)(p.a,{user:e.user})}),Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center my-2",children:[Object(j.jsx)("h5",{className:"color-c1",style:{textShadow:"var(--outer-shadow)"},children:"Suggestions"}),!t.loading&&Object(j.jsx)("div",{className:"outer-shadow hover-in-shadow btn-1 d-flex justify-content-center align-items-center",children:Object(j.jsx)("i",{className:"fas fa-redo ",style:{cursor:"pointer"},onClick:()=>a(Object(x.b)(e.token))})})]}),t.loading?Object(j.jsx)("img",{src:o.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(j.jsx)("div",{className:"suggestions",children:t.users.map(e=>Object(j.jsx)("div",{className:" mb-3 inner-shadow",style:{borderRadius:"5px"},children:Object(j.jsx)(p.a,{user:e,children:Object(j.jsx)(h.a,{user:e},e._id)},e._id)},e._id))})]})};t.default=()=>{const{homePosts:e}=Object(c.c)(e=>e);return Object(j.jsxs)("div",{className:"home row mx-0",children:[Object(j.jsxs)("div",{className:"col-md-8",children:[Object(j.jsx)(O,{}),e.loading?Object(j.jsx)("img",{src:o.a,alt:"loading",className:"d-block mx-auto"}):0===e.result?Object(j.jsx)("h2",{className:"text-center",children:"No Post"}):Object(j.jsx)(b,{})]}),Object(j.jsx)("div",{className:"col-md-4",children:Object(j.jsx)(y,{})})]})}},function(e,t,a){"use strict";var s=a(1),c=a(5),r=a(12),n=a(3),o=a(26),l=a(6),i=a(29),d=a(0);t.a=()=>{const{auth:e,message:t}=Object(c.c)(e=>e),a=Object(c.b)(),j=Object(r.f)(),{id:b}=Object(r.h)(),m=Object(s.useRef)(),[u,O]=Object(s.useState)(0),[p,h]=Object(s.useState)(""),[x,y]=Object(s.useState)([]),f=e=>(h(""),y([]),a(Object(o.c)({user:e,message:t})),j.push("/message/".concat(e._id))),g=e=>b===e._id?"active":"";return Object(s.useEffect)(()=>{t.firstLoad||a(Object(o.d)({auth:e}))},[a,e,t.firstLoad]),Object(s.useEffect)(()=>{new IntersectionObserver(e=>{e[0].isIntersecting&&O(e=>e+1)},{threshold:.1}).observe(m.current)},[O]),Object(s.useEffect)(()=>{t.resultUsers>=9*(u-1)&&u>1&&a(Object(o.d)({auth:e,page:u}))},[t.resultUsers,u,e,a]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{className:"message_header",onSubmit:async t=>{if(t.preventDefault(),!p)return y([]);try{const t=await Object(l.b)("search?username=".concat(p),e.token);y(t.data.users)}catch(s){a({type:n.c.ALERT,payload:{error:s.response.data.msg}})}},children:[Object(d.jsx)("input",{type:"text",value:p,onChange:e=>h(e.target.value),placeholder:"search..."}),Object(d.jsx)("button",{style:{display:"none"},type:"submit",id:"search",children:"Search"})]}),Object(d.jsxs)("div",{className:"message_chat_list",children:[0!==x.length?Object(d.jsx)(d.Fragment,{children:x.map(e=>Object(d.jsx)("div",{className:"message_user ".concat(g(e)),onClick:()=>f(e),children:Object(d.jsx)(i.a,{user:e})},e._id))}):Object(d.jsx)(d.Fragment,{children:t.users.map(e=>Object(d.jsx)("div",{cclassName:"message_user ".concat(g(e)),onClick:()=>f(e),children:Object(d.jsx)(i.a,{user:e,msg:!0,children:Object(d.jsx)("i",{className:"fas fa-circle"})})},e._id))}),Object(d.jsx)("button",{style:{opacity:0},ref:m,children:"Load more.."})]})]})}},function(e,t,a){"use strict";var s=a(1),c=a(5),r=a(0);var n=e=>{let{images:t,id:a}=e;const{theme:s}=Object(c.c)(e=>e),n=e=>{if(0===e)return"active"};return Object(r.jsxs)("div",{id:"image".concat(a),className:"carousel slide","data-bs-ride":"carousel",children:[Object(r.jsx)("div",{className:"carousel-indicators",children:t.map((e,t)=>Object(r.jsx)("button",{type:"button","data-bs-target":"#image".concat(a),"data-bs-slide-to":t,className:n(t),"aria-current":"true"},t))}),Object(r.jsx)("div",{className:"carousel-inner",children:t.map((e,t)=>Object(r.jsx)("div",{className:"carousel-item ".concat(n(t)),children:e.url.match(/video/i)?Object(r.jsx)("video",{controls:!0,style:{filter:s?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url}):Object(r.jsx)("img",{style:{filter:s?"invert(1)":"invert(0)"},src:e.url,className:"d-block w-100",alt:e.url})},t))}),Object(r.jsxs)("button",{style:{width:"5%"},className:"carousel-control-prev",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"prev",children:[Object(r.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(r.jsx)("span",{className:"visually-hidden",children:"Previous"})]}),Object(r.jsxs)("button",{style:{width:"5%"},className:"carousel-control-next",type:"button","data-bs-target":"#image".concat(a),"data-bs-slide":"next",children:[Object(r.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(r.jsx)("span",{className:"visually-hidden",children:"Next"})]})]})};var o=e=>{let{post:t,theme:a}=e;const[c,o]=Object(s.useState)();return Object(r.jsxs)("div",{className:"card_body",children:[Object(r.jsxs)("div",{className:"card_body-content",style:{filter:a?"invert(1)":"invert(0)",color:a?"white":"#111"},children:[Object(r.jsx)("span",{children:t.content.length<60?t.content:c?t.content+" ":t.content.slice(0,60)+"  ..."}),t.content.length>60&&Object(r.jsx)("span",{className:"readMore",onClick:()=>o(!c),children:c?"Hide Content":"Read More"})]}),t.images.length>0&&Object(r.jsx)(n,{images:t.images,id:t._id})]})},l=a(8);var i=e=>{let{isLike:t,handleLike:a,handleUnLike:s}=e;const{theme:n}=Object(c.c)(e=>e);return Object(r.jsx)("div",{children:t?Object(r.jsx)("i",{className:"fas fa-thumbs-up text-info",style:{filter:n?"invert(1)":"invert(0)"},onClick:s}):Object(r.jsx)("i",{className:"far fa-thumbs-up",onClick:a})})},d=a(7),j=a(125),b=a(126),m=a(127),u=a(128),O=a(129),p=a(130),h=a(131),x=a(132),y=a(133),f=a(134),g=a(135),v=a(136),_=a(137),N=a(138),T=a(139),w=a(140);var E=e=>{let{url:t,theme:a,setIsShare:s}=e;return Object(r.jsx)("div",{className:"share_modal",children:Object(r.jsxs)("div",{className:"share_modal-container",children:[Object(r.jsxs)("div",{className:"share_modal-header",children:[Object(r.jsx)("span",{children:"Share to..."}),Object(r.jsx)("span",{onClick:()=>s(!1),children:"\xd7"})]}),Object(r.jsxs)("div",{className:" share_modal-body",style:{filter:a?"invert(1)":"invert(0)"},children:[Object(r.jsx)(j.a,{url:t,children:Object(r.jsx)(b.a,{round:!0,size:32})}),Object(r.jsx)(m.a,{url:t,children:Object(r.jsx)(u.a,{round:!0,size:32})}),Object(r.jsx)(O.a,{url:t,children:Object(r.jsx)(p.a,{round:!0,size:32})}),Object(r.jsx)(h.a,{url:t,children:Object(r.jsx)(x.a,{round:!0,size:32})}),Object(r.jsx)(y.a,{url:t,children:Object(r.jsx)(f.a,{round:!0,size:32})}),Object(r.jsx)(g.a,{url:t,children:Object(r.jsx)(v.a,{round:!0,size:32})}),Object(r.jsx)(_.a,{url:t,children:Object(r.jsx)(N.a,{round:!0,size:32})}),Object(r.jsx)(T.a,{url:t,children:Object(r.jsx)(w.a,{round:!0,size:32})})]})]})})};var S=e=>{let{post:t}=e;const[a,n]=Object(s.useState)(!1),[o,j]=Object(s.useState)(!1),[b,m]=Object(s.useState)(!1),[u,O]=Object(s.useState)(!1),[p,h]=Object(s.useState)(!1),x=Object(c.b)(),{auth:y,theme:f,socket:g}=Object(c.c)(e=>e);Object(s.useEffect)(()=>{t.likes.find(e=>e._id===y.user._id)?n(!0):n(!1)},[t.likes,y.user._id]);return Object(s.useEffect)(()=>{y.user.saved.find(e=>e===t._id)?j(!0):j(!1)},[t._id,y.user.saved]),Object(r.jsxs)("div",{className:"card_footer",children:[Object(r.jsxs)("div",{className:"card_icon_menu",children:[Object(r.jsxs)("div",{className:"d-flex",children:[Object(r.jsx)(i,{isLike:a,handleLike:async()=>{b||(m(!0),await x(Object(d.f)({post:t,auth:y,socket:g})),m(!1))},handleUnLike:async()=>{b||(m(!0),await x(Object(d.i)({post:t,auth:y,socket:g})),m(!1))}}),Object(r.jsx)(l.b,{to:"/post/".concat(t._id),className:"text-dark",children:Object(r.jsx)("i",{className:"far fa-comments"})}),Object(r.jsx)("i",{className:"fa fa-share",alt:"Send",onClick:()=>h(!p)})]}),o?Object(r.jsx)("i",{className:"fas text-info fa-bookmark",onClick:async()=>{u||(O(!0),await x(Object(d.j)({post:t,auth:y})),O(!1))}}):Object(r.jsx)("i",{className:"far fa-bookmark",onClick:async()=>{u||(O(!0),await x(Object(d.h)({post:t,auth:y})),O(!1))}})]}),Object(r.jsxs)("div",{className:"d-flex justify-content-start",children:[Object(r.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.likes.length," likes"]}),Object(r.jsxs)("h6",{style:{padding:"0 25px",cursor:"pointer"},children:[t.comments.length," comments"]})]}),p&&Object(r.jsx)(E,{url:"http://google.com",theme:f,setIsShare:h})]})},k=a(2),A=a(20),L=a(12),P=a(39),C=a.n(P);var R=a(3);var D=e=>{let{post:t}=e;const{auth:a,socket:s}=Object(c.c)(e=>e),n=Object(c.b)(),o=Object(L.f)();return Object(r.jsxs)("div",{className:"card_header",children:[Object(r.jsxs)("div",{className:"d-flex",children:[Object(r.jsx)("div",{className:"outer-shadow big-avatar-cover me-2",children:Object(r.jsx)(A.a,{src:t.user.avatar,size:"big-avatar"})}),Object(r.jsxs)("div",{className:"card_name",children:[Object(r.jsx)("h6",{className:"m-0",children:Object(r.jsx)(l.b,{className:"text-dark",to:"/profile/".concat(t.user._id),children:t.user.username})}),Object(r.jsx)("small",{className:"text-muted",children:C()(t.createdAt).fromNow()})]})]}),Object(r.jsxs)("div",{className:"nav-item dropdown",children:[Object(r.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_horiz"}),Object(r.jsxs)("div",{className:"dropdown-menu",children:[a.user._id===t.user._id&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"dropdown-item",onClick:()=>{n({type:R.c.STATUS,payload:Object(k.a)(Object(k.a)({},t),{},{onEdit:!0})})},children:[Object(r.jsx)("span",{className:"material-icons text-info",children:" create"}),"Edit Post"]}),Object(r.jsxs)("div",{className:"dropdown-item",onClick:()=>{if(window.confirm("Are you sure?"))return n(Object(d.c)({post:t,auth:a,socket:s})),o.push("/")},children:[Object(r.jsx)("span",{className:"material-icons text-red",children:" delete"}),"Delete Post"]})]}),Object(r.jsxs)("div",{className:"dropdown-item",onClick:()=>{navigator.clipboard.writeText("".concat("http://18.206.249.37:8000","/post/").concat(t._id))},children:[Object(r.jsx)("span",{className:"material-icons text-primary",children:"content_copy"}),"Copy Link"]}),Object(r.jsxs)("div",{className:"dropdown-item",onClick:()=>{n(Object(d.g)({post:t,auth:a}))},children:[Object(r.jsx)("span",{className:"material-icons text-yellow",children:"report_problem"}),"Report this post"]})]})]})]})},I=a(10),U=a(6);var G=e=>{let{post:t,comment:a,setOnEdit:s}=e;const{auth:n,socket:o}=Object(c.c)(e=>e),l=Object(c.b)(),i=()=>{t.user._id!==n.user._id&&a.user._id!==n.user._id||l((e=>{let{post:t,comment:a,auth:s,socket:c}=e;return async e=>{const r=[...t.comments.filter(e=>e.reply===a._id),a],n=Object(k.a)(Object(k.a)({},t),{},{comments:t.comments.filter(e=>!r.find(t=>e._id===t._id))});e({type:d.a.UPDATE_POST,payload:n}),c.emit("deleteComment",n);try{r.forEach(a=>{Object(U.a)("comment/".concat(a._id),s.token);const r={id:a._id,text:a.reply?"mentioned you in a comment.":"commented on your post.",recipients:a.reply?[a.tag._id]:[t.user._id],url:"/post/".concat(t._id)};e(Object(I.f)({msg:r,auth:s,socket:c}))})}catch(o){e({type:R.c.ALERT,payload:{error:o.response.data.msg}})}}})({post:t,auth:n,comment:a,socket:o}))},j=()=>Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"dropdown-item",onClick:()=>s(!0),children:[Object(r.jsx)("span",{className:"material-icons text-primary",children:"create"})," Edit"]}),Object(r.jsxs)("div",{className:"dropdown-item",onClick:i,children:[Object(r.jsx)("span",{className:"material-icons text-red",children:"delete_outline"})," Delete"]})]});return Object(r.jsx)("div",{className:"menu",children:(t.user._id===n.user._id||a.user._id===n.user._id)&&Object(r.jsxs)("div",{className:"nav-item dropdown",children:[Object(r.jsx)("span",{className:"material-icons",id:"moreLink","data-bs-toggle":"dropdown",children:"more_vert"}),Object(r.jsx)("div",{className:"dropdown-menu","aria-labelledby":"moreLink",children:t.user._id===n.user._id?a.user._id===n.user._id?j():Object(r.jsxs)("div",{className:"dropdown-item",onClick:i,children:[Object(r.jsx)("span",{className:"material-icons",children:"delete_outline"})," Delete"]}):a.user._id===n.user._id&&j()})]})})},F=a(44);var M=e=>{let{children:t,post:a,onReply:n,setOnReply:o}=e;const[l,i]=Object(s.useState)(""),{auth:j,socket:b,theme:m}=Object(c.c)(e=>e),u=Object(c.b)();return Object(r.jsxs)("form",{className:"card-footer comment_input",onSubmit:e=>{if(e.preventDefault(),!l.trim())return o?o(!1):void 0;i("");const t={content:l,likes:[],user:j.user,createdAt:(new Date).toISOString(),reply:n&&n.commentId,tag:n&&n.user};return u((e=>{let{post:t,newComment:a,auth:s,socket:c}=e;return async e=>{const r=Object(k.a)(Object(k.a)({},t),{},{comments:[...t.comments,a]});e({type:d.a.UPDATE_POST,payload:r});try{const r=Object(k.a)(Object(k.a)({},a),{},{postId:t._id,postUserId:t.user._id}),n=await Object(U.d)("comment",r,s.token),o=Object(k.a)(Object(k.a)({},n.data.newComment),{},{user:s.user}),l=Object(k.a)(Object(k.a)({},t),{},{comments:[...t.comments,o]});e({type:d.a.UPDATE_POST,payload:l}),c.emit("createComment",l);const i={id:n.data.newComment._id,text:a.reply?"mentioned you in a comment.":"commented on your post.",recipients:a.reply?[a.tag._id]:[t.user._id],url:"/post/".concat(t._id),content:a.reply?a.content:t.content,image:t.images[0].url};e(Object(I.b)({msg:i,auth:s,socket:c}))}catch(n){e({type:R.c.ALERT,payload:{error:n.response.data.msg}})}}})({post:a,newComment:t,auth:j,socket:b})),o?o(!1):void 0},children:[t,Object(r.jsx)("input",{type:"text",placeholder:"Add comments...",value:l,onChange:e=>i(e.target.value),style:{filter:m?"invert(1)":"invert(0)",color:m?"white":"#111",background:m?"rgb(0,0,0,0.3)":""}}),Object(r.jsx)(F.a,{setContent:i,content:l,theme:m}),Object(r.jsx)("button",{type:"submit",className:"postBtn",children:"Post"})]})};var H=e=>{let{children:t,comment:a,post:n,commentId:o}=e;const{auth:j,theme:b}=Object(c.c)(e=>e),m=Object(c.b)(),[u,O]=Object(s.useState)(""),[p,h]=Object(s.useState)(!1),[x,y]=Object(s.useState)(!1),[f,g]=Object(s.useState)(!1),[v,_]=Object(s.useState)(!1),[N,T]=Object(s.useState)(!1);Object(s.useEffect)(()=>{O(a.content),y(!1),T(!1),a.likes.find(e=>e._id===j.user._id)&&y(!0)},[a,j.user._id]);const w={opacity:a._id?1:.5,pointerEvents:a._id?"inherit":"none"};return Object(r.jsxs)("div",{className:"comment_card mt-2",style:w,children:[Object(r.jsxs)(l.b,{to:"/profile/".concat(a.user._id),className:"d-flex text-dark",children:[Object(r.jsx)(A.a,{src:a.user.avatar,size:"small-avatar"}),Object(r.jsx)("h6",{className:"mx-1",children:a.user.username})]}),Object(r.jsxs)("div",{className:"comment_content",children:[Object(r.jsxs)("div",{className:"flex-fill",style:{filter:b?"invert(1)":"invert(0)",color:b?"white":"#111"},children:[v?Object(r.jsx)("textarea",{rows:"5",value:u,onChange:e=>O(e.target.value)}):Object(r.jsxs)("div",{children:[a.tag&&a.tag._id!==a.user._id&&Object(r.jsxs)(l.b,{to:"/profile/".concat(a.tag._id),style:{textDecoration:"none"},className:"me-1",children:["@",a.tag.username]}),Object(r.jsx)("span",{children:u.length<100?u:p?u+" ":u.slice(0,100)+"..."}),u.length>100&&Object(r.jsx)("span",{className:"readMore",onClick:()=>h(!p),children:p?"Hide ":"Read more"})]}),Object(r.jsxs)("div",{style:{cursor:"pointer"},children:[Object(r.jsx)("small",{className:"text-muted",style:{marginRight:"9px"},children:C()(a.createdAt).fromNow()}),Object(r.jsxs)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:[a.likes.length," likes"]}),v?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("small",{onClick:()=>{a.content!==u?(m((e=>{let{comment:t,post:a,content:s,auth:c}=e;return async e=>{const r=Object(R.b)(a.comments,t._id,Object(k.a)(Object(k.a)({},t),{},{content:s})),n=Object(k.a)(Object(k.a)({},a),{},{comments:r});e({type:d.a.UPDATE_POST,payload:n});try{await Object(U.c)("comment/".concat(t._id),{content:s},c.token)}catch(o){e({type:R.c.ALERT,payload:{error:o.response.data.msg}})}}})({comment:a,post:n,content:u,auth:j})),_(!1)):_(!1)},style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"update"}),Object(r.jsx)("small",{onClick:()=>_(!1),style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",children:"cancel"})]}):Object(r.jsx)("small",{style:{fontWeight:"bold",marginRight:"9px"},className:"mr3",onClick:()=>{if(N)return T(!1);T(Object(k.a)(Object(k.a)({},a),{},{commentId:o}))},children:N?"cancel":"reply"})]})]}),Object(r.jsxs)("div",{className:"d-flex align-items-center ",style:{cursor:"pointer"},children:[Object(r.jsx)(G,{post:n,comment:a,setOnEdit:_}),Object(r.jsx)(i,{isLike:x,handleLike:async()=>{f||(y(!0),g(!0),await m((e=>{let{comment:t,post:a,auth:s}=e;return async e=>{const c=Object(k.a)(Object(k.a)({},t),{},{likes:[...t.likes,s.user]}),r=Object(R.b)(a.comments,t._id,c),n=Object(k.a)(Object(k.a)({},a),{},{comments:r});e({type:d.a.UPDATE_POST,payload:n});try{await Object(U.c)("comment/".concat(t._id,"/like"),null,s.token)}catch(o){e({type:R.c.ALERT,payload:{error:o.response.data.msg}})}}})({comment:a,post:n,auth:j})),g(!1))},handleUnLike:async()=>{f||(y(!1),g(!0),await m((e=>{let{comment:t,post:a,auth:s}=e;return async e=>{const c=Object(k.a)(Object(k.a)({},t),{},{likes:Object(R.a)(t.likes,s.user._id)}),r=Object(R.b)(a.comments,t._id,c),n=Object(k.a)(Object(k.a)({},a),{},{comments:r});e({type:d.a.UPDATE_POST,payload:n});try{await Object(U.c)("comment/".concat(t._id,"/unlike"),null,s.token)}catch(o){e({type:R.c.ALERT,payload:{error:o.response.data.msg}})}}})({comment:a,post:n,auth:j})),g(!1))}})]})]}),N&&Object(r.jsx)(M,{post:n,onReply:N,setOnReply:T,children:Object(r.jsxs)(l.b,{style:{textDecoration:"none"},className:"mr-1",to:"/profile/".concat(N.user._id),children:["@",N.user.username]})}),t]})};var z=e=>{let{comment:t,post:a,replyCm:c}=e;const[n,o]=Object(s.useState)([]),[l,i]=Object(s.useState)(1);return Object(s.useEffect)(()=>{o(c.slice(c.length-l))},[c,l]),Object(r.jsx)("div",{className:"comment_display",children:Object(r.jsx)(H,{post:a,comment:t,commentId:t._id,children:Object(r.jsxs)("div",{className:"ps-4",children:[n.map((e,s)=>e.reply&&Object(r.jsx)(H,{comment:e,post:a,commentId:t._id},s)),c.length-l>0?Object(r.jsx)("div",{onClick:()=>i(l+10),style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):c.length>1&&Object(r.jsx)("div",{onClick:()=>i(1),style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})})})};var Y=e=>{let{post:t}=e;const[a,c]=Object(s.useState)([]),[n,o]=Object(s.useState)([]),[l,i]=Object(s.useState)(2),[d,j]=Object(s.useState)([]);return Object(s.useEffect)(()=>{const e=t.comments.filter(e=>!e.reply);c(e),o(e.slice(e.length-l))},[t.comments,l]),Object(s.useEffect)(()=>{const e=t.comments.filter(e=>e.reply);j(e)},[t.comments]),Object(r.jsxs)("div",{className:"comments",children:[n.map((e,a)=>Object(r.jsx)(z,{comment:e,post:t,replyCm:d.filter(t=>t.reply===e._id)},a)),a.length-l>0?Object(r.jsx)("div",{onClick:()=>i(l+10),className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Load more..."}):a.length>2&&Object(r.jsx)("div",{onClick:()=>i(2),className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},children:"Hide..."})]})};t.a=e=>{let{post:t,theme:a}=e;return Object(r.jsxs)("div",{className:"card my-3 outer-shadow",children:[Object(r.jsx)(D,{post:t}),Object(r.jsx)(o,{post:t,theme:a}),Object(r.jsx)(S,{post:t}),Object(r.jsx)(Y,{post:t}),Object(r.jsx)(M,{post:t})]})}},,,function(e,t,a){},,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(5),r=a(42),n=a(16),o=a(43),l=a(40),i=a(6),d=a(0);t.default=()=>{const{auth:e,discover:t}=Object(c.c)(e=>e),a=Object(c.b)(),[j,b]=Object(s.useState)(!1);Object(s.useEffect)(()=>{t.firstLoad||a(Object(r.b)(e.token))},[a,e.token,t.firstLoad]);return Object(d.jsxs)("div",{children:[t.loading?Object(d.jsx)("img",{src:n.a,alt:"Loading...",className:"d-block mx-auto my-4"}):Object(d.jsx)(o.a,{posts:t.posts,result:t.result}),j&&Object(d.jsx)("img",{src:n.a,alt:"Loading...",className:"d-block mx-auto"}),!t.loading&&Object(d.jsx)(l.a,{result:t.result,page:t.page,load:j,handleLoadMore:async()=>{b(!0);const s=await Object(i.b)("post_discover?num=".concat(8*t.page),e.token);a({type:r.a.UPDATE_POSTS,payload:s.data}),b(!1)}})]})}},,function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(12),r=a(5),n=a(7),o=a(16),l=a(57),i=a(0);t.default=()=>{const{id:e}=Object(c.h)(),[t,a]=Object(s.useState)([]),{auth:d,detailPost:j}=Object(r.c)(e=>e),b=Object(r.b)();return Object(s.useEffect)(()=>{if(b(Object(n.d)({detailPost:j,id:e,auth:d})),j.length>0){const t=j.filter(t=>t._id===e);a(t)}},[j,b,e,d]),Object(i.jsxs)("div",{className:"posts",children:[0===t.length&&Object(i.jsx)("img",{src:o.a,alt:"Loading...",className:"d-block mx-auto my-4"}),t.map(e=>Object(i.jsx)(l.a,{post:e},e._id))]})}},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(12),r=a(20),n=a(2),o=a(5),l=a(3),i=a(22),d=a(36),j=a(0);var b=e=>{let{setOnEdit:t}=e;const[a,c]=Object(s.useState)({fullname:"",mobile:"",address:"",website:"",story:"",gender:""}),{fullname:r,mobile:b,address:m,website:u,story:O,gender:p}=a,[h,x]=Object(s.useState)(""),{auth:y,theme:f}=Object(o.c)(e=>e),g=Object(o.b)();Object(s.useEffect)(()=>{c(y.user)},[y.user]);const v=e=>{const{name:t,value:s}=e.target;c(Object(n.a)(Object(n.a)({},a),{},{[t]:s}))};return Object(j.jsxs)("div",{className:"edit_profile",children:[Object(j.jsx)("button",{className:"btn btn-danger btn_close",onClick:()=>t(!1),children:"Close"}),Object(j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g(Object(i.e)({userData:a,avatar:h,auth:y}))},children:[Object(j.jsxs)("div",{className:"info_avatar",children:[Object(j.jsx)("img",{alt:"profile",src:h?URL.createObjectURL(h):y.user.avatar,style:{filter:f?"invert(1)":"invert(0)"}}),Object(j.jsxs)("span",{children:[Object(j.jsx)("i",{className:"fas fa-camera"}),Object(j.jsx)("p",{children:"Change"}),Object(j.jsx)("input",{type:"file",name:"file",id:"file_up",accept:"image/*",onChange:e=>{const t=e.target.files[0],a=Object(d.a)(t);if(a)return g({type:l.c.ALERT,payload:{error:a}});x(t)}})]})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"fullname",children:"Full Name"}),Object(j.jsxs)("div",{className:"position-relative",children:[Object(j.jsx)("input",{type:"text",className:"form-control",id:"fullname",name:"fullname",value:r,onChange:v}),Object(j.jsxs)("small",{className:"text-danger position-absolute",style:{top:"50%",right:"5px",transform:"translateY(-50%)"},children:[r.length,"/25"]})]})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"mobile",name:"mobile",value:b,onChange:v})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"address",children:"Address"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"address",name:"address",value:m,onChange:v})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"website",children:"Website"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"website",name:"website",value:u,onChange:v})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"story",children:"Story"}),Object(j.jsx)("textarea",{cols:"30",rows:"4",type:"text",className:"form-control",id:"story",name:"story",value:O,onChange:v}),Object(j.jsxs)("small",{className:"text-danger d-block text-right",children:[O.length,"/200"]})]}),Object(j.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(j.jsx)("div",{className:"input-group-prepend px-0 mb-4",children:Object(j.jsxs)("select",{className:"custom-select text-capitalize",name:"gender",id:"gender",onChange:v,value:p,children:[Object(j.jsx)("option",{value:"male",children:"Male"}),Object(j.jsx)("option",{value:"female",children:"Female"})]})}),Object(j.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"Save"})]})]})},m=a(37),u=a(29);var O=e=>{let{users:t,setShowFollowing:a}=e;const{auth:s}=Object(o.c)(e=>e);return Object(j.jsx)("div",{className:"follow",children:Object(j.jsxs)("div",{className:"follow_box",children:[Object(j.jsx)("h5",{className:"text-center follow_box-heading",children:"Following"}),Object(j.jsx)("hr",{}),t.map(e=>Object(j.jsx)(u.a,{setShowFollowing:a,user:e,children:s.user._id!==e._id&&Object(j.jsx)(m.a,{user:e})},e._id)),Object(j.jsx)("div",{className:"close",onClick:()=>a(!1),children:"\xd7"})]})})};var p=e=>{let{users:t,setShowFollowers:a}=e;const{auth:s}=Object(o.c)(e=>e);return Object(j.jsx)("div",{className:"follow",children:Object(j.jsxs)("div",{className:"follow_box",children:[Object(j.jsx)("h5",{className:"text-center follow_box-heading",children:"Followers"}),Object(j.jsx)("hr",{}),t.map(e=>Object(j.jsx)(u.a,{setShowFollowers:a,user:e,children:s.user._id!==e._id&&Object(j.jsx)(m.a,{user:e})},e._id)),Object(j.jsx)("div",{className:"close",onClick:()=>a(!1),children:"\xd7"})]})})},h=a(27);var x=e=>{let{setChangePassword:t}=e;const[a,c]=Object(s.useState)(""),[r,n]=Object(s.useState)(""),[l,i]=Object(s.useState)(""),{auth:d,theme:b}=Object(o.c)(e=>e),m=Object(o.b)();return Object(j.jsxs)("div",{className:"edit_profile",children:[Object(j.jsx)("button",{className:"btn btn-danger btn_close",onClick:()=>t(!1),children:"Close"}),Object(j.jsxs)("form",{onSubmit:e=>{e.preventDefault(),m(Object(h.b)({oldPassword:a,newPassword:r,cnfNewPassword:l,auth:d}))},children:[Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"oldPassword",children:"old password"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"oldPassword",name:"oldPassword",value:a,onChange:e=>c(e.target.value)})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"newPassword",children:"new password"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"newPassword",name:"newPassword",value:r,onChange:e=>n(e.target.value)})]}),Object(j.jsxs)("div",{className:"form_group",children:[Object(j.jsx)("label",{htmlFor:"cnfNewPassword",children:"confirm new password"}),Object(j.jsx)("input",{type:"text",className:"form-control",id:"cnfNewPassword",name:"cnfNewPassword",value:l,onChange:e=>i(e.target.value)})]}),Object(j.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"update"})]})]})};var y=e=>{let{id:t,auth:a,profile:c,dispatch:n}=e;const[o,i]=Object(s.useState)([]),[d,u]=Object(s.useState)(!1),[h,y]=Object(s.useState)(!1),[f,g]=Object(s.useState)(!1),[v,_]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{if(t===a.user._id)i([a.user]);else{const e=c.users.filter(e=>e._id===t);i(e)}},[t,a,n,c.users]),Object(s.useEffect)(()=>{n(f||v||d?{type:l.c.MODAL,payload:!0}:{type:l.c.MODAL,payload:!1})},[f,v,d,n]),Object(j.jsx)("div",{className:"info",children:o.map(e=>Object(j.jsxs)("div",{className:"info_container",children:[Object(j.jsx)("div",{className:"outer-shadow d-flex justify-content-center align-items-center",style:{borderRadius:"50%",height:"170px",width:"170px"},children:Object(j.jsx)(r.a,{src:e.avatar,size:"supper-avatar"})}),Object(j.jsxs)("div",{className:"info_content",children:[Object(j.jsxs)("div",{className:"info_content_title",children:[Object(j.jsx)("h2",{children:e.username}),e._id===a.user._id?Object(j.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:()=>u(!0),children:"Edit Profile"}):Object(j.jsx)(m.a,{user:e}),e._id===a.user._id?Object(j.jsx)("button",{className:"btn-1 outer-shadow hover-in-shadow",onClick:()=>y(!0),children:"change password"}):Object(j.jsx)(m.a,{user:e})]}),Object(j.jsxs)("div",{className:"follow_btn",children:[Object(j.jsxs)("span",{className:"mr-4",onClick:()=>g(!0),children:[e.followers.length," Followers"]}),Object(j.jsxs)("span",{className:"ml-4",onClick:()=>_(!0),children:[e.following.length," Following"]})]}),Object(j.jsxs)("h6",{children:[e.fullname," ",Object(j.jsx)("span",{className:"color-violet",children:e.mobile})]}),Object(j.jsx)("p",{className:"m-0",children:e.address}),Object(j.jsx)("h6",{children:e.email}),Object(j.jsx)("a",{style:{textDecoration:"none"},href:e.website,target:"_blank",rel:"noreferrer",children:e.website}),Object(j.jsx)("p",{children:e.story})]}),d&&Object(j.jsx)(b,{setOnEdit:u}),h&&Object(j.jsx)(x,{setChangePassword:y}),f&&Object(j.jsx)(p,{users:e.followers,setShowFollowers:g}),v&&Object(j.jsx)(O,{users:e.following,setShowFollowing:_})]},e._id))})},f=a(43),g=a(16),v=a(40),_=a(6);var N=e=>{let{auth:t,profile:a,dispatch:c,id:r}=e;const[o,l]=Object(s.useState)([]),[d,b]=Object(s.useState)(9),[m,u]=Object(s.useState)(0),[O,p]=Object(s.useState)(!1);Object(s.useEffect)(()=>{a.posts.forEach(e=>{e._id===r&&(l(e.posts),b(e.result),u(e.page))})},[a.posts,r]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{posts:o,result:d}),O&&Object(j.jsx)("img",{src:g.a,alt:"Loading...",className:"d-block mx-auto"}),Object(j.jsx)(v.a,{result:d,page:m,load:O,handleLoadMore:async()=>{p(!0);const e=await Object(_.b)("user_posts/".concat(r,"?limit=").concat(9*m),t.token),a=Object(n.a)(Object(n.a)({},e.data),{},{page:m+1,_id:r});c({type:i.a.UPDATE_POST,payload:a}),p(!1)}})]})};var T=e=>{let{auth:t,dispatch:a}=e;const[c,r]=Object(s.useState)([]),[n,o]=Object(s.useState)(9),[i,d]=Object(s.useState)(2),[b,m]=Object(s.useState)(!1);Object(s.useEffect)(()=>(m(!0),Object(_.b)("getSavePosts",t.token).then(e=>{r(e.data.savePosts),o(e.data.result),m(!1)}).catch(e=>{a({type:l.c.ALERT,payload:{error:e.response.data.msg}})}),()=>r([])),[a,t.token]);return Object(j.jsxs)("div",{children:[Object(j.jsx)(f.a,{posts:c,result:n}),b&&Object(j.jsx)("img",{src:g.a,alt:"Loading...",className:"d-block mx-auto"}),Object(j.jsx)(v.a,{result:n,page:i,load:b,handleLoadMore:async()=>{m(!0);const e=await Object(_.b)("getSavePosts?limit=".concat(9*i),t.token);r(e.data.savePosts),o(e.data.result),d(i+1),m(!1)}})]})};t.default=()=>{const{profile:e,auth:t}=Object(o.c)(e=>e),a=Object(o.b)(),{id:r}=Object(c.h)(),[n,l]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{e.ids.every(e=>e!==r)&&a(Object(i.c)({id:r,auth:t}))},[r,t,a,e.ids]),Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsx)(y,{auth:t,profile:e,dispatch:a,id:r}),t.user._id===r&&Object(j.jsxs)("div",{className:"profile_tab",children:[Object(j.jsx)("button",{className:n?"":"active",onClick:()=>l(!1),children:"posts"}),Object(j.jsx)("button",{className:n?"active":"",onClick:()=>l(!0),children:"saved"})]}),e.loading?Object(j.jsx)("img",{className:"d-block mx-auto my-4",src:g.a,alt:"Loading"}):Object(j.jsx)(j.Fragment,{children:n?Object(j.jsx)(T,{auth:t,dispatch:a}):Object(j.jsx)(N,{auth:t,profile:e,dispatch:a,id:r})})]})}},function(e,t,a){"use strict";a.r(t);var s=a(1),c=a(56),r=a(29),n=a(5),o=a(12),l=a(20),i=a(33),d=a(0);var j=e=>{let{user:t,msg:a,theme:s}=e;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"chat_title",children:[Object(d.jsx)(l.a,{src:t.avatar,size:"small-avatar"}),Object(d.jsx)("span",{children:t.username})]}),a.text&&Object(d.jsx)("div",{className:"chat_text",style:{filter:s?"invert(1)":"invert(0)"},children:a.text}),a.media&&a.media.map((e,t)=>Object(d.jsx)("div",{style:{maxWidth:"380px",maxHeight:"380px"},children:e.url.match(/video/i)?Object(i.b)(e.url,s):Object(i.a)(e.url,s)},t)),Object(d.jsx)("div",{className:"chat_time",children:new Date(a.createdAt).toLocaleString()})]})},b=a(44),m=a(3),u=a(36),O=a(26),p=a(16);var h=()=>{const{auth:e,message:t,theme:a,socket:c}=Object(n.c)(e=>e),l=Object(n.b)(),[h,x]=Object(s.useState)([]),[y,f]=Object(s.useState)(""),[g,v]=Object(s.useState)(0),[_,N]=Object(s.useState)([]),{id:T}=Object(o.h)(),[w,E]=Object(s.useState)([]),[S,k]=Object(s.useState)(!1),A=Object(s.useRef)(),L=Object(s.useRef)();Object(s.useEffect)(()=>{const a=t.data.filter(t=>t.sender===e.user._id||t.sender===T);N(a)},[t.data,e.user._id,T]),Object(s.useEffect)(()=>{const e=t.users.find(e=>e._id===T);e&&x(e)},[t.users,T]);return Object(s.useEffect)(()=>{if(T){(async()=>{l({type:O.a.GET_MESSAGES,payload:{messages:[]}}),v(1),await l(Object(O.e)({auth:e,id:T})),A.current&&A.current.scrollIntoView({behaviour:"smooth",block:"end"})})()}},[T,l,e]),Object(s.useEffect)(()=>{new IntersectionObserver(e=>{e[0].isIntersecting&&v(e=>e+1)},{threshold:.1}).observe(L.current)},[v]),Object(s.useEffect)(()=>{t.resultData>=9*(g-1)&&g>1&&l(Object(O.e)({auth:e,id:T,page:g}))},[t.resultData,g,T,e,l]),Object(s.useEffect)(()=>{A.current&&A.current.scrollIntoView({behaviour:"smooth",block:"end"})},[y]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"message_header",children:0!==h.length&&Object(d.jsx)(r.a,{user:h,children:Object(d.jsx)("i",{className:"fas fa-trash text-danger"})})}),Object(d.jsx)("div",{className:"chat_container",style:{height:w.length>0?"calc(100% - 180px)":""},children:Object(d.jsxs)("div",{className:"chat_display",ref:A,children:[Object(d.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:L,children:"Load.."}),_.map((t,s)=>Object(d.jsxs)("div",{children:[t.sender!==e.user._id&&Object(d.jsx)("div",{className:"chat_row other_message",children:Object(d.jsx)(j,{user:h,msg:t,theme:a})}),t.sender===e.user._id&&Object(d.jsx)("div",{className:"chat_row you_message",children:Object(d.jsx)(j,{user:e.user,msg:t,theme:a})})]},s)),S&&Object(d.jsx)("div",{className:"chat_row you_message",children:Object(d.jsx)("img",{src:p.a,alt:"Loading..."})})]})}),Object(d.jsx)("div",{className:"show_media",style:{display:w.length>0?"":"none"},children:w.map((e,t)=>Object(d.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(i.b)(URL.createObjectURL(e),a):Object(i.a)(URL.createObjectURL(e),a),Object(d.jsx)("span",{onClick:()=>(e=>{const t=[...w];t.splice(e,1),E(t)})(t),children:"\xd7"})]},t))}),Object(d.jsxs)("form",{className:"chat_input",onSubmit:async t=>{if(t.preventDefault(),!y.trim()&&0===w.length)return;f(""),E([]),k(!0);let a=[];w.length>0&&(a=await Object(u.b)(w));const s={sender:e.user._id,recipient:T,text:y,media:a,createdAt:(new Date).toISOString()};k(!1),await l(Object(O.b)({msg:s,auth:e,socket:c})),A.current&&A.current.scrollIntoView({behaviour:"smooth",block:"end"})},children:[Object(d.jsx)("input",{placeholder:"Type a message.",type:"text",value:y,onChange:e=>f(e.target.value),style:{filter:a?"invert(1)":"invert(0)",background:a?"#040404":"",color:a?"white":""}}),Object(d.jsx)(b.a,{setContent:f,content:y,theme:a}),Object(d.jsxs)("div",{className:"file_upload",children:[Object(d.jsx)("i",{className:"fas fa-image color-c1"}),Object(d.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{const t=[...e.target.files];let a="",s=[];t.forEach(e=>e?e.size>5242880?a="Image size must be less than 5 mb.":s.push(e):a="File does not exist."),a&&l({type:m.c.ALERT,payload:{error:a}}),E([...w,...s])}})]}),Object(d.jsx)("button",{type:"submit",disabled:!(y||w.length>0),className:"material-icons",children:"near_me"})]})]})};t.default=()=>Object(d.jsxs)("div",{className:"message d-flex",children:[Object(d.jsx)("div",{className:"col-md-4 px-0",style:{borderRight:"1px solid #ddd"},children:Object(d.jsx)(c.a,{})}),Object(d.jsx)("div",{className:"col-md-8 px-0",children:Object(d.jsx)(h,{})})]})},,,,,,,,,,,function(e,t,a){},,,,,function(e,t,a){var s={"./adminDashboard":54,"./adminDashboard.js":54,"./discover":71,"./discover.js":71,"./home":55,"./home.js":55,"./login":49,"./login.js":49,"./message":51,"./message/":51,"./message/[id]":75,"./message/[id].js":75,"./message/index":51,"./message/index.js":51,"./post/[id]":73,"./post/[id].js":73,"./profile/[id]":74,"./profile/[id].js":74,"./register":53,"./register.js":53};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}c.keys=function(){return Object.keys(s)},c.resolve=r,e.exports=c,c.id=91},,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){},,,,,function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(52),n=a.n(r),o=(a(86),a(8)),l=a(12),i=a(5),d=a(80),j=a(0);var b=()=>Object(j.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(j.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | Not Found."})});const m=e=>{try{return c.a.createElement(a(91)("./".concat(e)).default)}catch(t){return Object(j.jsx)(b,{})}};var u=()=>{const{page:e,id:t}=Object(l.h)(),{auth:a}=Object(i.c)(e=>e);let s="";return a.token&&(s=t?"".concat(e,"/[id]"):"".concat(e)),m(s)},O=a(2);var p=e=>localStorage.getItem("firstLogin")?Object(j.jsx)(l.b,Object(O.a)({},e)):Object(j.jsx)(l.a,{to:"/"}),h=a(49),x=a(53),y=a(55);var f=()=>Object(j.jsxs)("div",{style:{background:"white",top:0,left:0,zIndex:50,opacity:.7},className:"position-fixed vh-100 w-100   d-flex justify-content-center align-items-center",children:[Object(j.jsxs)("div",{className:"loading",children:[Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{}),Object(j.jsx)("span",{})]}),Object(j.jsx)("text",{className:"loading_text",fill:"#fff",x:"5",y:"47",children:"Loading"})]});var g=e=>{let{msg:t,handleShow:a,bgColor:s}=e;return Object(j.jsxs)("div",{className:"toast show position-fixed text-light ".concat(s," "),style:{top:"5px",right:"5px",minWidth:"200px",zIndex:50},children:[Object(j.jsxs)("div",{className:"toast-header text-light ".concat(s),children:[Object(j.jsx)("strong",{className:"mr-auto text-light",children:t.title}),Object(j.jsx)("button",{className:"ml-auto mb-1 close text-light","data-dismiss":"toast",style:{border:"none",background:"none",fontSize:"30px",right:0},onClick:a,children:"\xd7"})]}),Object(j.jsx)("div",{className:"toast-body",children:t.body})]})},v=a(3);var _=()=>{const{alert:e}=Object(i.c)(e=>e),t=Object(i.b)();return Object(j.jsxs)("div",{children:[e.loading&&Object(j.jsx)(f,{}),e.error&&Object(j.jsx)(g,{msg:{title:"Error",body:e.error},handleShow:()=>t({type:v.c.ALERT,payload:{}}),bgColor:"bg-danger"}),e.success&&Object(j.jsx)(g,{msg:{title:"Success",body:e.success},handleShow:()=>t({type:v.c.ALERT,payload:{}}),bgColor:"bg-success"})]})},N=a(27),T=a(20),w=a(39),E=a.n(w),S=a(10);var k=()=>{const{auth:e,notify:t}=Object(i.c)(e=>e),a=Object(i.b)(),s=()=>{a({type:S.a.UPDATE_SOUND,payload:!t.sound})};return Object(j.jsxs)("div",{className:"mt-1",style:{minWidth:"280px",boxShadow:"5px 8px 8px var(--c2) ,-3px -3px 8px var(--c3)",background:"white",borderRadius:"10px",borderTopRightRadius:"0"},children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(j.jsx)("h3",{children:"Notifications"}),t.sound?Object(j.jsx)("i",{className:"fas fa-bell text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:s}):Object(j.jsx)("i",{className:"fas fa-bell-slash text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:s})]}),Object(j.jsx)("hr",{className:"mt-1"}),0===t.data.length&&Object(j.jsx)("span",{className:"text-muted w-100 text-center",children:"No Notifications"}),Object(j.jsx)("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto"},children:t.data.map((t,s)=>Object(j.jsxs)("div",{className:"px-2 mb-3",children:[Object(j.jsxs)(o.b,{to:"".concat(t.url),style:{textDecoration:"none"},className:"d-flex text-dark align-items-center",onClick:()=>(t=>{a(Object(S.e)({msg:t,auth:e}))})(t),children:[Object(j.jsx)(T.a,{src:t.user.avatar,size:"big-avatar"}),Object(j.jsxs)("div",{className:"flex-fill mx-1",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("strong",{className:"mr-1",children:t.user.username}),Object(j.jsx)("span",{children:t.text})]}),t.content&&Object(j.jsxs)("small",{children:[t.content.slice(0,20),"..."]})]}),Object(j.jsx)("div",{style:{width:"30px"},children:t.image&&Object(j.jsx)(T.a,{src:t.image,size:"medium-avatar"})})]}),Object(j.jsxs)("small",{className:"text-muted d-flex justify-content-between px-2",children:[E()(t.createdAt).fromNow(),!t.isRead&&Object(j.jsx)("i",{className:"fas fa-circle color-c1"})]})]},s))}),Object(j.jsx)("hr",{className:"my-1"}),Object(j.jsx)("div",{className:"text-end my-auto me-2 color-c1",style:{cursor:"pointer"},onClick:()=>{const s=t.data.filter(e=>!1===e.isRead);return 0===s.length||window.confirm("You have ".concat(s.length," unread notifications.Do you want to delete all notifications?"))?a(Object(S.c)(e.token)):void 0},children:"Delete"})]})};var A=()=>{const{auth:e,theme:t,notify:a}=Object(i.c)(e=>e),s=Object(i.b)(),{pathname:c}=Object(l.g)(),r=e=>{if(e===c)return"active"};return Object(j.jsx)("div",{className:"menu",children:Object(j.jsxs)("ul",{className:"navbar-nav flex-row mb-2 mb-lg-0",children:[[{label:"Home",icon:"home",path:"/"},{label:"Message",icon:"near_me",path:"/message"},{label:"Discover",icon:"explore",path:"/discover"}].map((e,t)=>Object(j.jsx)("li",{className:"nav-item px-2 ".concat(r(e.path)),children:Object(j.jsx)(o.b,{className:"nav-link ",to:e.path,children:Object(j.jsx)("span",{className:"material-icons ",children:e.icon})})},t)),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsxs)("span",{className:"nav-link position-relative",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(j.jsx)("span",{style:{color:a.data.length>0?"var(--c1)":""},className:"material-icons ",children:"notifications"}),Object(j.jsx)("span",{className:"notify_length",children:a.data.length})]}),Object(j.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(j.jsx)(k,{})})]}),Object(j.jsxs)("li",{className:"nav-item dropdown",style:{opacity:"1"},children:[Object(j.jsx)("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:Object(j.jsx)(T.a,{src:e.user.avatar,size:"medium-avatar"})}),Object(j.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/profile/".concat(e.user._id),children:"Profile"})}),Object(j.jsx)("li",{children:Object(j.jsx)("label",{style:{color:"white"},htmlFor:"theme",className:"dropdown-item",onClick:()=>s({type:v.c.THEME,payload:!t}),children:t?"Light mode":"Dark mode"})}),Object(j.jsx)("li",{children:Object(j.jsx)("hr",{className:"dropdown-divider"})}),Object(j.jsx)("li",{children:Object(j.jsx)(o.b,{style:{color:"white"},className:"dropdown-item",to:"/",onClick:()=>s(Object(N.d)()),children:"Logout"})})]})]})]})})},L=a(6),P=a(29),C=a(16);var R=()=>{const[e,t]=Object(s.useState)(""),[a,c]=Object(s.useState)([]),{auth:r}=Object(i.c)(e=>e),n=Object(i.b)(),[o,l]=Object(s.useState)(!1),d=()=>{t(""),c([])};return Object(j.jsxs)("form",{className:"search_form",onSubmit:async t=>{if(t.preventDefault(),e)try{l(!0);const t=await Object(L.b)("search?username=".concat(e),r.token);c(t.data.users),l(!1)}catch(a){n({type:v.c.ALERT,payload:{error:a.response.data.msg}})}},children:[Object(j.jsx)("input",{type:"text",title:"Enter to Search",name:"search",value:e,id:"search",onChange:e=>t(e.target.value.toLowerCase().replace(/ /g," "))}),Object(j.jsxs)("div",{className:"search_icon",style:{opacity:e?0:.3},children:[Object(j.jsx)("span",{className:"material-icons",children:"search"}),Object(j.jsx)("span",{children:"Enter to Search"})]}),Object(j.jsx)("div",{onClick:d,className:"close_search",style:{opacity:0===a.length?0:1},children:"\xd7"}),Object(j.jsx)("button",{type:"submit",style:{display:"none"},children:"Search"}),o&&Object(j.jsx)("img",{className:"loading",src:C.a,alt:"Loading"}),Object(j.jsx)("div",{className:"users",children:e&&a.map(e=>Object(j.jsx)(P.a,{user:e,border:"border",handleClose:d},e._id))})]})},D=a(7),I=a(38);var U=()=>{const{auth:e}=Object(i.c)(e=>e),t=Object(i.b)();return Object(j.jsx)("div",{className:"header bg-light",children:Object(j.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light justify-content-between",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsx)(o.b,{to:"/",className:"logo",onClick:()=>{window.scrollTo({top:0}),t(Object(D.e)(e.token)),t(Object(I.b)(e.token))},children:Object(j.jsx)("h1",{className:"navbar-brand text-uppercase p-0 m-0",children:"Campus Connect"})}),Object(j.jsx)(R,{}),Object(j.jsx)(A,{})]})})})},G=a(44),F=a(33);var M=()=>{const{auth:e,theme:t,status:a,socket:c}=Object(i.c)(e=>e),r=Object(i.b)(),[n,o]=Object(s.useState)(""),[l,d]=Object(s.useState)([]),[b,m]=Object(s.useState)(!1),u=Object(s.useRef)(),O=Object(s.useRef)(),[p,h]=Object(s.useState)("");return Object(s.useEffect)(()=>{a.onEdit&&(o(a.content),d(a.images))},[a]),Object(j.jsx)("div",{className:"status_modal",children:Object(j.jsxs)("form",{onSubmit:t=>{if(t.preventDefault(),0===l.length)return r({type:v.c.ALERT,payload:{error:"Add image(s)."}});a.onEdit?r(Object(D.k)({content:n,images:l,auth:e,status:a})):r(Object(D.b)({content:n,images:l,auth:e,socket:c})),o(""),d([]),p&&p.stop(),r({type:v.c.STATUS,payload:!1})},children:[Object(j.jsxs)("div",{className:"status_header",children:[Object(j.jsx)("h5",{className:"m-0",children:"Create Post"}),Object(j.jsx)("span",{onClick:()=>r({type:v.c.STATUS,payload:!1}),children:"\xd7"})]}),Object(j.jsxs)("div",{className:"status_body",children:[Object(j.jsx)("textarea",{onChange:e=>o(e.target.value),value:n,name:"content",placeholder:"".concat(e.user.username,", What's on your mind?"),style:{filter:t?"invert(1)":"invert(0)",color:t?"white":"#111",background:t?"rgb(0,0,0,0.3)":""}}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsx)("div",{className:"flex-fill"}),Object(j.jsx)(G.a,{setContent:o,content:n,theme:t})]}),Object(j.jsx)("div",{className:"show_images",children:l.map((e,a)=>Object(j.jsxs)("div",{className:"file_img",children:[e.camera?Object(F.a)(e.camera,t):e.url?Object(j.jsx)(j.Fragment,{children:e.url.match(/video/i)?Object(F.b)(e.url):Object(F.a)(e.url)}):Object(j.jsx)(j.Fragment,{children:e.type.match(/video/i)?Object(F.b)(URL.createObjectURL(e,t)):Object(F.a)(URL.createObjectURL(e,t))}),Object(j.jsx)("span",{onClick:()=>(e=>{const t=[...l];t.splice(e,1),d(t)})(a),children:"\xd7"})]},a))}),b&&Object(j.jsxs)("div",{className:"stream position-relative",children:[Object(j.jsx)("video",{width:"100%",height:"100%",ref:u,style:{filter:t?"invert(1)":"invert(0)"},autoPlay:!0,muted:!0}),Object(j.jsx)("span",{onClick:()=>{p.stop(),m(!1)},children:"\xd7"}),Object(j.jsx)("canvas",{style:{display:"none"},ref:O})]}),Object(j.jsx)("div",{className:"input_images",children:b?Object(j.jsx)("i",{className:"fas fa-camera",onClick:()=>{const e=u.current.clientWidth,t=u.current.clientHeight;O.current.setAttribute("width",e),O.current.setAttribute("height",t);O.current.getContext("2d").drawImage(u.current,0,0,e,t);let a=O.current.toDataURL();d([...l,{camera:a}])}}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("i",{className:"fas fa-camera",onClick:()=>{m(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{u.current.srcObject=e,u.current.play();const t=e.getTracks();h(t[0])}).catch(e=>console.log(e))}}),Object(j.jsxs)("div",{className:"file_upload",children:[Object(j.jsx)("i",{className:"fas fa-image"}),Object(j.jsx)("input",{onChange:e=>{const t=[...e.target.files];let a="",s=[];t.forEach(e=>e?e.size>5242880?a="Image size must be less than 5 mb.":s.push(e):a="File does not exist."),a&&r({type:v.c.ALERT,payload:{error:a}}),d([...l,...s])},type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*"})]})]})})]}),Object(j.jsx)("div",{className:"status_footer",children:Object(j.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Post"})})]})})},H=a(54),z=a(13),Y=a(26),W=a.p+"static/media/pristine-609.9287f5ce.mp3";var V=()=>{const{auth:e,socket:t,notify:a}=Object(i.c)(e=>e),c=Object(i.b)(),r=Object(s.useRef)();return Object(s.useEffect)(()=>{"user"===e.user.role?t.emit("joinUser",e.user._id):"admin"===e.user.role&&t.emit("joinAdmin",e.user._id)},[t,e.user.role,e.user._id]),Object(s.useEffect)(()=>(t.on("getActiveUsersToClient",e=>{c({type:z.a.GET_TOTAL_ACTIVE_USERS,payload:e})}),()=>t.off("getActiveUsersToClient")),[t,c]),Object(s.useEffect)(()=>(t.on("likeToClient",e=>{c({type:D.a.UPDATE_POST,payload:e})}),()=>t.off("likeToClient")),[t,c]),Object(s.useEffect)(()=>(t.on("unLikeToClient",e=>{c({type:D.a.UPDATE_POST,payload:e})}),()=>t.off("unLikeToClient")),[t,c]),Object(s.useEffect)(()=>(t.on("createCommentToClient",e=>{c({type:D.a.UPDATE_POST,payload:e})}),()=>t.off("createCommentToClient")),[t,c]),Object(s.useEffect)(()=>(t.on("deleteCommentToClient",e=>{c({type:D.a.UPDATE_POST,payload:e})}),()=>t.off("deleteCommentToClient")),[t,c]),Object(s.useEffect)(()=>(t.on("followToClient",t=>{c({type:v.c.AUTH,payload:Object(O.a)(Object(O.a)({},e),{},{user:t})})}),()=>t.off("followToClient")),[t,c,e]),Object(s.useEffect)(()=>(t.on("unFollowToClient",t=>{c({type:v.c.AUTH,payload:Object(O.a)(Object(O.a)({},e),{},{user:t})})}),()=>t.off("unFollowToClient")),[t,c,e]),Object(s.useEffect)(()=>(t.on("createNotifyToClient",e=>{var t,s,n;c({type:S.a.CREATE_NOTIFY,payload:e}),a.sound&&r.current.play(),t=e.user.username+" "+e.text,s=e.user.avatar,n=e.url,new Notification("CAMPUS CONNECT",{body:t,icon:s}).onclick=e=>{e.preventDefault(),window.open(n,"_blank")}}),()=>t.off("createNotifyToClient")),[t,c,a.sound]),Object(s.useEffect)(()=>(t.on("removeNotifyToClient",e=>{c({type:S.a.REMOVE_NOTIFY,payload:e})}),()=>t.off("removeNotifyToClient")),[t,c]),Object(s.useEffect)(()=>(t.on("addMessageToClient",e=>{c({type:Y.a.ADD_MESSAGE,payload:e})}),()=>t.off("addMessageToClient")),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("audio",{controls:!0,ref:r,style:{display:"none"},children:Object(j.jsx)("source",{src:W,type:"audio/mp3"})})})};var K=function(){const{auth:e,status:t,modal:a,userType:c}=Object(i.c)(e=>e),r=Object(i.b)();return Object(s.useEffect)(()=>{r(Object(N.e)());const e=Object(d.a)();return r({type:v.c.SOCKET,payload:e}),()=>e.close()},[r]),Object(s.useEffect)(()=>{e.token&&(r(Object(D.e)(e.token)),r(Object(I.b)(e.token)),r(Object(S.d)(e.token)))},[r,e.token]),Object(s.useEffect)(()=>{"Notification"in window?"granted"===Notification.permission||"denied"!==Notification.permission&&Notification.requestPermission().then(function(e){}):alert("This browser does not support desktop notification")},[]),Object(j.jsxs)(o.a,{children:[Object(j.jsx)(_,{}),Object(j.jsx)("input",{type:"checkbox",id:"theme"}),Object(j.jsx)("div",{className:"App ".concat((t||a)&&"mode"),children:Object(j.jsxs)("div",{className:"main",children:["user"===c&&e.token&&Object(j.jsx)(U,{}),t&&Object(j.jsx)(M,{}),e.token&&Object(j.jsx)(V,{}),Object(j.jsx)(l.b,{exact:!0,path:"/",component:"user"===c?e.token?y.default:h.default:e.token?H.default:h.default}),"user"===c&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/register",component:x.default}),Object(j.jsxs)("div",{className:"wrap_page",children:[Object(j.jsx)(p,{exact:!0,path:"/:page",component:u}),Object(j.jsx)(p,{exact:!0,path:"/:page/:id",component:u})]})]})]})})]})};var B=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then(t=>{let{getCLS:a,getFID:s,getFCP:c,getLCP:r,getTTFB:n}=t;a(e),s(e),c(e),r(e),n(e)})},q=a(46),J=a(79);const Q={};var X=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.AUTH?t.payload:e};var Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"user",t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.USER_TYPE?t.payload:e};const $={};var ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.ALERT?t.payload:e};var te=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.THEME?t.payload:e},ae=a(22);const se={loading:!1,ids:[],users:[],posts:[]};var ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.a.LOADING:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case ae.a.GET_USER:return Object(O.a)(Object(O.a)({},e),{},{users:[...e.users,t.payload.user]});case ae.a.FOLLOW:case ae.a.UNFOLLOW:return Object(O.a)(Object(O.a)({},e),{},{users:Object(v.b)(e.users,t.payload._id,t.payload)});case ae.a.GET_ID:return Object(O.a)(Object(O.a)({},e),{},{ids:[...e.ids,t.payload]});case ae.a.GET_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:[...e.posts,t.payload]});case ae.a.UPDATE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(v.b)(e.posts,t.payload._id,t.payload)});default:return e}};var re=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.STATUS?t.payload:e};const ne={loading:!1,posts:[],result:0,page:2};var oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a.CREATE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:[t.payload,...e.posts]});case D.a.LOADING_POST:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case D.a.GET_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,page:t.payload.page});case D.a.UPDATE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(v.b)(e.posts,t.payload._id,t.payload)});case D.a.DELETE_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(v.a)(e.posts,t.payload._id)});case D.a.REPORT_POST:return Object(O.a)(Object(O.a)({},e),{},{posts:Object(v.b)(e.posts,t.payload._id,t.payload)});default:return e}};var le=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.MODAL?t.payload:e};var ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.a.GET_POST:return[...e,t.payload];case D.a.UPDATE_POST:return Object(v.b)(e,t.payload._id,t.payload);default:return e}};const de={total_users:0,total_posts:0,total_comments:0,total_likes:0,total_active_users:0,total_spam_posts:0,spam_posts:[]};var je=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.a.GET_TOTAL_USERS:return Object(O.a)(Object(O.a)({},e),{},{total_users:t.payload.total_users});case z.a.GET_TOTAL_POSTS:return Object(O.a)(Object(O.a)({},e),{},{total_posts:t.payload.total_posts});case z.a.GET_TOTAL_COMMENTS:return Object(O.a)(Object(O.a)({},e),{},{total_comments:t.payload.total_comments});case z.a.GET_TOTAL_LIKES:return Object(O.a)(Object(O.a)({},e),{},{total_likes:t.payload.total_likes});case z.a.GET_TOTAL_SPAM_POSTS:return Object(O.a)(Object(O.a)({},e),{},{total_spam_posts:t.payload.total_spam_posts});case z.a.GET_TOTAL_ACTIVE_USERS:return Object(O.a)(Object(O.a)({},e),{},{total_active_users:t.payload});case z.a.LOADING_ADMIN:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case z.a.GET_SPAM_POSTS:return Object(O.a)(Object(O.a)({},e),{},{spam_posts:[...t.payload]});case z.a.DELETE_POST:return Object(O.a)(Object(O.a)({},e),{},{spam_posts:Object(v.a)(e.spam_posts,t.payload._id)});default:return e}},be=a(42);const me={loading:!1,posts:[],result:9,page:2,firstLoad:!1};var ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.a.LOADING:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case be.a.GET_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,firstLoad:!0});case be.a.UPDATE_POSTS:return Object(O.a)(Object(O.a)({},e),{},{posts:[...t.payload.posts],result:t.payload.result,page:e.page+1});default:return e}};const Oe={loading:!1,users:[]};var pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I.a.LOADING:return Object(O.a)(Object(O.a)({},e),{},{loading:t.payload});case I.a.GET_USERS:return Object(O.a)(Object(O.a)({},e),{},{users:t.payload.users});default:return e}};var he=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===v.c.SOCKET?t.payload:e};const xe={loading:!1,data:[],sound:!1};var ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.a.GET_NOTIFIES:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload});case S.a.CREATE_NOTIFY:return Object(O.a)(Object(O.a)({},e),{},{data:[...e.data,t.payload]});case S.a.UPDATE_NOTIFY:return Object(O.a)(Object(O.a)({},e),{},{data:Object(v.b)(e.data,t.payload._id,t.payload)});case S.a.UPDATE_SOUND:return Object(O.a)(Object(O.a)({},e),{},{sound:t.payload});case S.a.REMOVE_NOTIFY:return Object(O.a)(Object(O.a)({},e),{},{data:e.data.filter(e=>e.id!==t.payload.id||e.url!==t.payload.url)});case S.a.DELETE_ALL_NOTIFICATIONS:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload});default:return e}};const fe={users:[],resultUsers:0,data:[],resultData:0,firstLoad:!1};var ge=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.a.ADD_USER:return Object(O.a)(Object(O.a)({},e),{},{users:[...e.data,t.payload]});case Y.a.ADD_MESSAGE:return Object(O.a)(Object(O.a)({},e),{},{data:[...e.data,t.payload],users:e.users.map(e=>e._id===t.payload.recipient||e._id===t.payload.sender?Object(O.a)(Object(O.a)({},e),{},{text:t.payload.text,media:t.payload.media}):e)});case Y.a.GET_CONVERSATIONS:return Object(O.a)(Object(O.a)({},e),{},{users:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case Y.a.GET_MESSAGES:return Object(O.a)(Object(O.a)({},e),{},{data:t.payload.messages.reverse(),resultData:t.payload.result});default:return e}},ve=Object(q.combineReducers)({auth:X,alert:ee,theme:te,profile:ce,status:re,homePosts:oe,modal:le,detailPost:ie,userType:Z,admin:je,discover:ue,suggestions:pe,socket:he,notify:ye,message:ge}),_e=a(78);const Ne=Object(q.createStore)(ve,Object(_e.composeWithDevTools)(Object(q.applyMiddleware)(J.a)));var Te=e=>{let{children:t}=e;return Object(j.jsx)(i.a,{store:Ne,children:t})};n.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(Te,{children:Object(j.jsx)(K,{})})}),document.getElementById("root")),B()}],[[123,1,2]]]);
//# sourceMappingURL=main.ee36f576.chunk.js.map